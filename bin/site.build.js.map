{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/assert/assert.js","webpack:///./node_modules/inherits/inherits_browser.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/util/support/isBufferBrowser.js","webpack:///./node_modules/util/util.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/lib/config.js","webpack:///./src/lib/logger.js","webpack:///./src/lib/modules/http.js","webpack:///./src/lib/modules/localization-manager.js","webpack:///./src/lib/modules/search-utils.js","webpack:///./src/lib/modules/settings-manager.js","webpack:///./src/lib/modules/settings/settings-checkbox.js","webpack:///./src/lib/modules/settings/settings-input.js","webpack:///./src/lib/modules/settings/settings-keys.js","webpack:///./src/lib/modules/settings/settings-object.js","webpack:///./src/lib/modules/settings/settings-radios.js","webpack:///./src/lib/modules/settings/settings-visible-switch.js","webpack:///./src/lib/modules/storage-manager.js","webpack:///./src/lib/modules/tabzmania-data.js","webpack:///./src/lib/modules/tour-manager.js","webpack:///./src/lib/modules/utils.js","webpack:///./src/lib/modules/widgets-manager.js","webpack:///./src/lib/stats.js","webpack:///./src/lib/tabzmania.js","webpack:///./src/lib/widget.js","webpack:///./src/lib/widgets/background.js","webpack:///./src/lib/widgets/clock.js","webpack:///./src/lib/widgets/custom-sites.js","webpack:///./src/lib/widgets/insta-background.js","webpack:///./src/lib/widgets/search.js","webpack:///./src/lib/widgets/settings-ui.js","webpack:///./src/lib/widgets/suggested-sites.js","webpack:///./src/lib/widgets/todo.js","webpack:///./src/lib/widgets/weather.js"],"names":["Config","set","_config","override","params","co","installday","uid","barcode","defaults","publisherId","extensionid","name","theme","images","widgets","loadWidgets","stats","extension","extensionId","settings","debug","tourStepsOrder","search","schema","searchDomain","searchParams","searchType","geo","url","googleAnalyticsUrl","googleAnalyticsId","pixelDomain","publisherName","Logger","log","msg","console","Http","GET","callback","xhr","XMLHttpRequest","onreadystatechange","readyState","DONE","status","responseText","open","send","getJson","data","obj","JSON","parse","e","POST","body","LocalizationManager","init","SearchUtils","buildSearchUrl","domain","values","key","replace","encodeURIComponent","SettingsManager","constructor","StorageManager","get","keys","register","section","property","defaultvalue","settingsObject","registerSection","registerProperty","default","setSettingsKey","store","value","purifySettings","copy","stringify","getAll","indexOf","undefined","split","Stats","event","SettingsCheckbox","option","render","$","append","updateUI","find","click","updateValue","target","prop","css","SettingsInput","options","customLinks","updateCustomList","fetchLink","customlist","html","each","index","remove","_this","scroll","list","$button","appendTo","AddLinks","val","prepend","id","parentNode","removeChild","splice","parseInt","updateCustom","updateCustomLink","validateUrl","pattern","regex","RegExp","match","slice","push","img","baseResource","alert","savedLinks","check","document","querySelector","prev","createElement","className","map","el","innerHTML","addEventListener","window","appendChild","SettingsKeys","Visible","Icon","SettingsObject","current","getCustom","SettingsRadios","SettingsVisibleSwitch","addClass","removeClass","localStorage","getItem","setItem","deviceId","country","subId","barcodeId","installDate","TabzmaniaData","_deviceId","_country","_installDate","_barcodeId","_publisherId","_subId","TourManager","initTour","endTour","message","tourStepsArray","widgetName","widget","getSettings","Array","isArray","tourStepData","item","length","$tourOverlay","classList","add","style","zIndex","position","width","height","background","tour","steps","onEnd","onClose","hopscotch","startTour","Utils","padLeft","nr","n","str","String","join","widgetsMapping","SettingsWidget","WidgetsManager","eventName","data1","data2","data3","sendEvent","extName","Tabzmania","isInitialised","localization","fadeInterval","moving","setTimeout","mousemove","fadeWidgets","keydown","clearInterval","setInterval","tabzmania","Widget","manager","elementType","widgetElement","_render","start","handleVisability","initSetting","defaultValue","onChangeCallback","callbacks","_settingsChanged","setSettings","showWidget","display","BackgroundPickerWidget","currentBackgroundIndex","bgChangeKey","stopPropagation","children","i","$thumbContainer","thumbImage","Image","onload","src","attr","$settings","hasClass","ClockWidget","placement","title","content","xOffset","arrowOffset","onShow","onNext","tick_interval","timeFormatKey","tick","on","date","Date","hours","getHours","minutes","getMinutes","dd","months","days","year","getFullYear","month","getMonth","day","getDay","_date","getDate","clock","dateformat","toLocaleUpperCase","SuggestedSitesWidget","customListData","localdata","loadStaticLink","loadSiteLinkData","Promise","resolve","reject","tilesData","arr","pageSize","leftlink","SuggestedLinks","suggestedSites","then","siteData","InstaBackgroundPickerWidget","$body","instaNameKey","instaImagesKey","$overlayLoader","$bigImage","prependTo","$smolImage","$baseResourceUrl","$instaInputDialog","serviceUrl","hide","$instaInput","getImagesDataByAccount","imagesArr","updateImageComponents","catch","getImagesDataByTag","renderCallback","show","toggle","fetch","response","json","finally","populateConfigData","immediate","$widgetElement","empty","Math","floor","random","SearchWidget","searchVer","chooseEngineKey","searchInNewTabKey","searchVersionKey","searchUrl","PID","Publisher","SearchType","initAutocomplete","customFeed","searchInNewTab","onEngineChange","onSearchInNewTabChange","submit","submitSearch","insertBefore","firstChild","autocomplete","slideDown","trigger","clearTimeout","searchTimer","j","keyCode","$autocompleteListItem","$autocompleteList","selectedIndex","Number","maxItems","toString","text","loadAutocompleteData","searchTimeout","slideUp","ver","query","location","reload","aCallback","result","suggestions","total","results","closest","is","baseUrl","ajax","dataType","_settings","Object","sort","renderSection","toggleClass","go_to_url","properties","icon","div","getLocationByIP","ipAddress","isTilesDataExist","entries","tiles","elem","click_url","image_url","TodoWidget","listData","fillTasks","tasks","savedTasks","marked","task","updateTask","deleteTask","hover","addTask","$leftBottomWidgets","widgetHtml","todoList","addNewTask","$task","which","preventDefault","WeatherWidget","weather_interval","unitsKey","loadWeather","geoData","units","convertKelvin","kelvinTemp","unitType","updateWeather","$weather","res","weatherData","weather","main","round","temp","sys","err","error"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;8CClFA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,uCAAuC,SAAS;AAChD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,8BAA8B;AAC9B;AACA,mDAAmD;;AAEnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,gDAAgD;;AAEhD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH,sBAAsB;;AAEtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,QAAQ;AACjC;AACA;AACA;AACA;AACA;AACA,yBAAyB,QAAQ;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gCAAgC,oBAAoB;;AAEpD;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACzeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtBA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;;;;;;ACvLtC;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,uBAAuB,SAAS;AAChC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4CAA4C,KAAK;;AAEjD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA,mCAAmC,OAAO;AAC1C;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;AAGA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA,WAAW,SAAS;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;ACzkBA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;;;;;;;ACnBA;AAAA,MAAMA,MAAN,CAAa;AACT,WAAOC,GAAP,CAAWC,OAAX,EAAoB;AAChB;AACAA,gBAAQC,QAAR,GAAmBD,QAAQC,QAAR,IAAoB,EAAvC;AACAD,gBAAQE,MAAR,GAAiBF,QAAQE,MAAR,IAAkB;AAC/BC,gBAAI,EAD2B,EACvBC,YAAY,EADW,EACPC,KAAK,EADE,EACEC,SAASR,OAAOS,QAAP,CAAgBC,WAAhB,GAA8B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","file":"site.build.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/lib/tabzmania.js\");\n","'use strict';\n\n// compare and isBuffer taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js\n// original notice:\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nfunction compare(a, b) {\n  if (a === b) {\n    return 0;\n  }\n\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) {\n    return -1;\n  }\n  if (y < x) {\n    return 1;\n  }\n  return 0;\n}\nfunction isBuffer(b) {\n  if (global.Buffer && typeof global.Buffer.isBuffer === 'function') {\n    return global.Buffer.isBuffer(b);\n  }\n  return !!(b != null && b._isBuffer);\n}\n\n// based on node assert, original notice:\n\n// http://wiki.commonjs.org/wiki/Unit_Testing/1.0\n//\n// THIS IS NOT TESTED NOR LIKELY TO WORK OUTSIDE V8!\n//\n// Originally from narwhal.js (http://narwhaljs.org)\n// Copyright (c) 2009 Thomas Robinson <280north.com>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the 'Software'), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar util = require('util/');\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar pSlice = Array.prototype.slice;\nvar functionsHaveNames = (function () {\n  return function foo() {}.name === 'foo';\n}());\nfunction pToString (obj) {\n  return Object.prototype.toString.call(obj);\n}\nfunction isView(arrbuf) {\n  if (isBuffer(arrbuf)) {\n    return false;\n  }\n  if (typeof global.ArrayBuffer !== 'function') {\n    return false;\n  }\n  if (typeof ArrayBuffer.isView === 'function') {\n    return ArrayBuffer.isView(arrbuf);\n  }\n  if (!arrbuf) {\n    return false;\n  }\n  if (arrbuf instanceof DataView) {\n    return true;\n  }\n  if (arrbuf.buffer && arrbuf.buffer instanceof ArrayBuffer) {\n    return true;\n  }\n  return false;\n}\n// 1. The assert module provides functions that throw\n// AssertionError's when particular conditions are not met. The\n// assert module must conform to the following interface.\n\nvar assert = module.exports = ok;\n\n// 2. The AssertionError is defined in assert.\n// new assert.AssertionError({ message: message,\n//                             actual: actual,\n//                             expected: expected })\n\nvar regex = /\\s*function\\s+([^\\(\\s]*)\\s*/;\n// based on https://github.com/ljharb/function.prototype.name/blob/adeeeec8bfcc6068b187d7d9fb3d5bb1d3a30899/implementation.js\nfunction getName(func) {\n  if (!util.isFunction(func)) {\n    return;\n  }\n  if (functionsHaveNames) {\n    return func.name;\n  }\n  var str = func.toString();\n  var match = str.match(regex);\n  return match && match[1];\n}\nassert.AssertionError = function AssertionError(options) {\n  this.name = 'AssertionError';\n  this.actual = options.actual;\n  this.expected = options.expected;\n  this.operator = options.operator;\n  if (options.message) {\n    this.message = options.message;\n    this.generatedMessage = false;\n  } else {\n    this.message = getMessage(this);\n    this.generatedMessage = true;\n  }\n  var stackStartFunction = options.stackStartFunction || fail;\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, stackStartFunction);\n  } else {\n    // non v8 browsers so we can have a stacktrace\n    var err = new Error();\n    if (err.stack) {\n      var out = err.stack;\n\n      // try to strip useless frames\n      var fn_name = getName(stackStartFunction);\n      var idx = out.indexOf('\\n' + fn_name);\n      if (idx >= 0) {\n        // once we have located the function frame\n        // we need to strip out everything before it (and its line)\n        var next_line = out.indexOf('\\n', idx + 1);\n        out = out.substring(next_line + 1);\n      }\n\n      this.stack = out;\n    }\n  }\n};\n\n// assert.AssertionError instanceof Error\nutil.inherits(assert.AssertionError, Error);\n\nfunction truncate(s, n) {\n  if (typeof s === 'string') {\n    return s.length < n ? s : s.slice(0, n);\n  } else {\n    return s;\n  }\n}\nfunction inspect(something) {\n  if (functionsHaveNames || !util.isFunction(something)) {\n    return util.inspect(something);\n  }\n  var rawname = getName(something);\n  var name = rawname ? ': ' + rawname : '';\n  return '[Function' +  name + ']';\n}\nfunction getMessage(self) {\n  return truncate(inspect(self.actual), 128) + ' ' +\n         self.operator + ' ' +\n         truncate(inspect(self.expected), 128);\n}\n\n// At present only the three keys mentioned above are used and\n// understood by the spec. Implementations or sub modules can pass\n// other keys to the AssertionError's constructor - they will be\n// ignored.\n\n// 3. All of the following functions must throw an AssertionError\n// when a corresponding condition is not met, with a message that\n// may be undefined if not provided.  All assertion methods provide\n// both the actual and expected values to the assertion error for\n// display purposes.\n\nfunction fail(actual, expected, message, operator, stackStartFunction) {\n  throw new assert.AssertionError({\n    message: message,\n    actual: actual,\n    expected: expected,\n    operator: operator,\n    stackStartFunction: stackStartFunction\n  });\n}\n\n// EXTENSION! allows for well behaved errors defined elsewhere.\nassert.fail = fail;\n\n// 4. Pure assertion tests whether a value is truthy, as determined\n// by !!guard.\n// assert.ok(guard, message_opt);\n// This statement is equivalent to assert.equal(true, !!guard,\n// message_opt);. To test strictly for the value true, use\n// assert.strictEqual(true, guard, message_opt);.\n\nfunction ok(value, message) {\n  if (!value) fail(value, true, message, '==', assert.ok);\n}\nassert.ok = ok;\n\n// 5. The equality assertion tests shallow, coercive equality with\n// ==.\n// assert.equal(actual, expected, message_opt);\n\nassert.equal = function equal(actual, expected, message) {\n  if (actual != expected) fail(actual, expected, message, '==', assert.equal);\n};\n\n// 6. The non-equality assertion tests for whether two objects are not equal\n// with != assert.notEqual(actual, expected, message_opt);\n\nassert.notEqual = function notEqual(actual, expected, message) {\n  if (actual == expected) {\n    fail(actual, expected, message, '!=', assert.notEqual);\n  }\n};\n\n// 7. The equivalence assertion tests a deep equality relation.\n// assert.deepEqual(actual, expected, message_opt);\n\nassert.deepEqual = function deepEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'deepEqual', assert.deepEqual);\n  }\n};\n\nassert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'deepStrictEqual', assert.deepStrictEqual);\n  }\n};\n\nfunction _deepEqual(actual, expected, strict, memos) {\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n  } else if (isBuffer(actual) && isBuffer(expected)) {\n    return compare(actual, expected) === 0;\n\n  // 7.2. If the expected value is a Date object, the actual value is\n  // equivalent if it is also a Date object that refers to the same time.\n  } else if (util.isDate(actual) && util.isDate(expected)) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3 If the expected value is a RegExp object, the actual value is\n  // equivalent if it is also a RegExp object with the same source and\n  // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).\n  } else if (util.isRegExp(actual) && util.isRegExp(expected)) {\n    return actual.source === expected.source &&\n           actual.global === expected.global &&\n           actual.multiline === expected.multiline &&\n           actual.lastIndex === expected.lastIndex &&\n           actual.ignoreCase === expected.ignoreCase;\n\n  // 7.4. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if ((actual === null || typeof actual !== 'object') &&\n             (expected === null || typeof expected !== 'object')) {\n    return strict ? actual === expected : actual == expected;\n\n  // If both values are instances of typed arrays, wrap their underlying\n  // ArrayBuffers in a Buffer each to increase performance\n  // This optimization requires the arrays to have the same type as checked by\n  // Object.prototype.toString (aka pToString). Never perform binary\n  // comparisons for Float*Arrays, though, since e.g. +0 === -0 but their\n  // bit patterns are not identical.\n  } else if (isView(actual) && isView(expected) &&\n             pToString(actual) === pToString(expected) &&\n             !(actual instanceof Float32Array ||\n               actual instanceof Float64Array)) {\n    return compare(new Uint8Array(actual.buffer),\n                   new Uint8Array(expected.buffer)) === 0;\n\n  // 7.5 For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else if (isBuffer(actual) !== isBuffer(expected)) {\n    return false;\n  } else {\n    memos = memos || {actual: [], expected: []};\n\n    var actualIndex = memos.actual.indexOf(actual);\n    if (actualIndex !== -1) {\n      if (actualIndex === memos.expected.indexOf(expected)) {\n        return true;\n      }\n    }\n\n    memos.actual.push(actual);\n    memos.expected.push(expected);\n\n    return objEquiv(actual, expected, strict, memos);\n  }\n}\n\nfunction isArguments(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n}\n\nfunction objEquiv(a, b, strict, actualVisitedObjects) {\n  if (a === null || a === undefined || b === null || b === undefined)\n    return false;\n  // if one is a primitive, the other must be same\n  if (util.isPrimitive(a) || util.isPrimitive(b))\n    return a === b;\n  if (strict && Object.getPrototypeOf(a) !== Object.getPrototypeOf(b))\n    return false;\n  var aIsArgs = isArguments(a);\n  var bIsArgs = isArguments(b);\n  if ((aIsArgs && !bIsArgs) || (!aIsArgs && bIsArgs))\n    return false;\n  if (aIsArgs) {\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return _deepEqual(a, b, strict);\n  }\n  var ka = objectKeys(a);\n  var kb = objectKeys(b);\n  var key, i;\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length !== kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] !== kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!_deepEqual(a[key], b[key], strict, actualVisitedObjects))\n      return false;\n  }\n  return true;\n}\n\n// 8. The non-equivalence assertion tests for any deep inequality.\n// assert.notDeepEqual(actual, expected, message_opt);\n\nassert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);\n  }\n};\n\nassert.notDeepStrictEqual = notDeepStrictEqual;\nfunction notDeepStrictEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'notDeepStrictEqual', notDeepStrictEqual);\n  }\n}\n\n\n// 9. The strict equality assertion tests strict equality, as determined by ===.\n// assert.strictEqual(actual, expected, message_opt);\n\nassert.strictEqual = function strictEqual(actual, expected, message) {\n  if (actual !== expected) {\n    fail(actual, expected, message, '===', assert.strictEqual);\n  }\n};\n\n// 10. The strict non-equality assertion tests for strict inequality, as\n// determined by !==.  assert.notStrictEqual(actual, expected, message_opt);\n\nassert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n  if (actual === expected) {\n    fail(actual, expected, message, '!==', assert.notStrictEqual);\n  }\n};\n\nfunction expectedException(actual, expected) {\n  if (!actual || !expected) {\n    return false;\n  }\n\n  if (Object.prototype.toString.call(expected) == '[object RegExp]') {\n    return expected.test(actual);\n  }\n\n  try {\n    if (actual instanceof expected) {\n      return true;\n    }\n  } catch (e) {\n    // Ignore.  The instanceof check doesn't work for arrow functions.\n  }\n\n  if (Error.isPrototypeOf(expected)) {\n    return false;\n  }\n\n  return expected.call({}, actual) === true;\n}\n\nfunction _tryBlock(block) {\n  var error;\n  try {\n    block();\n  } catch (e) {\n    error = e;\n  }\n  return error;\n}\n\nfunction _throws(shouldThrow, block, expected, message) {\n  var actual;\n\n  if (typeof block !== 'function') {\n    throw new TypeError('\"block\" argument must be a function');\n  }\n\n  if (typeof expected === 'string') {\n    message = expected;\n    expected = null;\n  }\n\n  actual = _tryBlock(block);\n\n  message = (expected && expected.name ? ' (' + expected.name + ').' : '.') +\n            (message ? ' ' + message : '.');\n\n  if (shouldThrow && !actual) {\n    fail(actual, expected, 'Missing expected exception' + message);\n  }\n\n  var userProvidedMessage = typeof message === 'string';\n  var isUnwantedException = !shouldThrow && util.isError(actual);\n  var isUnexpectedException = !shouldThrow && actual && !expected;\n\n  if ((isUnwantedException &&\n      userProvidedMessage &&\n      expectedException(actual, expected)) ||\n      isUnexpectedException) {\n    fail(actual, expected, 'Got unwanted exception' + message);\n  }\n\n  if ((shouldThrow && actual && expected &&\n      !expectedException(actual, expected)) || (!shouldThrow && actual)) {\n    throw actual;\n  }\n}\n\n// 11. Expected to throw an error:\n// assert.throws(block, Error_opt, message_opt);\n\nassert.throws = function(block, /*optional*/error, /*optional*/message) {\n  _throws(true, block, error, message);\n};\n\n// EXTENSION! This is annoying to write outside this module.\nassert.doesNotThrow = function(block, /*optional*/error, /*optional*/message) {\n  _throws(false, block, error, message);\n};\n\nassert.ifError = function(err) { if (err) throw err; };\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    if (hasOwn.call(obj, key)) keys.push(key);\n  }\n  return keys;\n};\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","class Config {\r\n    static set(_config) {\r\n        // protection\r\n        _config.override = _config.override || {};\r\n        _config.params = _config.params || {\r\n            co: \"\", installday: \"\", uid: \"\", barcode: Config.defaults.publisherId + \"0000000000\",\r\n            extensionid: \"\"\r\n        };\r\n\r\n        // Override config params\r\n        if (_config.name) {\r\n            Config.theme.name = _config.name;\r\n        }\r\n\r\n        if (_config.images) {\r\n            Config.theme.images = _config.images;\r\n        }\r\n\r\n        if (_config.override.widgets) {\r\n            Config.theme.loadWidgets = _config.override.widgets;\r\n        }\r\n\r\n        if (_config.params.uid) {\r\n            Config.stats.uid = _config.params.uid;\r\n        }\r\n\r\n        if (_config.params.barcode) {\r\n            Config.stats.barcode = _config.params.barcode;\r\n        }\r\n\r\n        if (_config.params.co) {\r\n            Config.stats.co = _config.params.co;\r\n        }\r\n\r\n        if (_config.params.installday) {\r\n            Config.stats.installday = _config.params.installday;\r\n        }\r\n\r\n        if (_config.params.name) {\r\n            Config.extension.name = _config.params.name;\r\n        }\r\n\r\n        if (_config.params.extensionid) {\r\n            Config.extension.extensionId = _config.params.extensionid;\r\n        }\r\n    };\r\n}\r\n\r\nConfig.settings = {\r\n    debug: true\r\n};\r\n\r\nConfig.tourStepsOrder = [\r\n    'Search',\r\n    'Suggested Sites',\r\n    'Custom Sites',\r\n    'Clock',\r\n    'Weather',\r\n    'Todo',\r\n    'Settings'\r\n];\r\n\r\nConfig.theme = {\r\n    name: \"Tabzmania New Tab\",\r\n    images: ['https://images.pexels.com/photos/129105/pexels-photo-129105.jpeg'],\r\n    loadWidgets: ['search', 'background-picker', 'todo', 'clock', 'weather', 'suggested-sites', 'custom-sites', 'settings-ui']\r\n};\r\nConfig.search = {\r\n    schema: \"https\",\r\n    searchDomain: \"feed.tabzmania.com\",\r\n    searchParams: \"publisherid={PID}&publisher={Publisher}&searchtype={SearchType}\",\r\n    searchType: \"st\"\r\n};\r\nConfig.geo = {\r\n    url: \"https://api.sendmepixel.com/geo/country\"\r\n};\r\nConfig.stats = {\r\n    googleAnalyticsUrl: 'https://www.google-analytics.com/collect',\r\n    googleAnalyticsId: '',\r\n    pixelDomain: '//pixel.pxcollect.com'\r\n};\r\nConfig.extension = {\r\n    name: \"tbz_theme_default\"\r\n};\r\nConfig.defaults = {\r\n    publisherName: 'tabzmania',\r\n    publisherId: 52502\r\n};\r\n\r\nexport default Config;\r\n","import Config from './config';\r\n\r\nexport default class Logger {\r\n    static log(msg) {\r\n        if (Config.settings.debug) {\r\n            console.log(msg);\r\n        }\r\n    }\r\n};\r\n","export default class Http {\r\n  static GET(url, callback = () => {}) {\r\n    let xhr = new XMLHttpRequest();\r\n    xhr.onreadystatechange = () => {\r\n      if (xhr.readyState === XMLHttpRequest.DONE) {\r\n        if (xhr.status === 200) {\r\n          callback(xhr.responseText);\r\n        } else {\r\n          // error\r\n          callback();\r\n        }\r\n      }\r\n    };\r\n    xhr.open(\"GET\", url, true);\r\n    xhr.send();\r\n  }\r\n\r\n  static getJson(url, callback = () => {}) {\r\n    Http.GET(url, (data) => {\r\n      let obj = {};\r\n      try {\r\n        obj = JSON.parse(data)\r\n      } catch (e) {}\r\n      callback(obj);\r\n    });\r\n  }\r\n\r\n  static POST(url, body = \"\", callback = () => {}) {\r\n    let xhr = new XMLHttpRequest();\r\n    xhr.onreadystatechange = () => {\r\n      if (xhr.readyState === XMLHttpRequest.DONE) {\r\n        if (xhr.status === 200) {\r\n          callback(xhr.responseText);\r\n        } else {\r\n          // error\r\n          callback();\r\n        }\r\n      }\r\n    };\r\n    xhr.open(\"POST\", url, true);\r\n    xhr.send(body);\r\n  }\r\n}\r\n","import Logger from '../logger';\r\n\r\nexport default class LocalizationManager {\r\n  init() {\r\n    Logger.log('LocalizationManager::init() called');\r\n  }\r\n}\r\n","export default class SearchUtils {\r\n    static buildSearchUrl(schema, domain, params, values) {\r\n        let url = `${schema}://${domain}/?${params}`;\r\n        for (let key in values) {\r\n            url = url.replace(`{${key}}`, encodeURIComponent(values[key] || \"\"));\r\n        }\r\n        return url;\r\n    }\r\n}\r\n","import StorageManager from './storage-manager';\r\nimport Stats from '../stats';\r\n\r\nexport default class SettingsManager {\r\n  constructor() {\r\n    this.settings = JSON.parse(StorageManager.get(StorageManager.keys.settings) || '{}');\r\n  }\r\n\r\n  register(section, property, defaultvalue, settingsObject, callback) {\r\n    this.registerSection(section);\r\n    this.registerProperty(section, property, {default: defaultvalue, obj: settingsObject, callback: callback});\r\n\r\n    if (settingsObject)\r\n      settingsObject.setSettingsKey(this, `${section}.${property}`);\r\n  }\r\n\r\n  registerSection(section) {\r\n    if (!this.settings[section]) {\r\n      this.settings[section] = {};\r\n      this.store();\r\n    }\r\n  }\r\n\r\n  registerProperty(section, property, settings) {\r\n    if (!this.settings[section][property]) {\r\n      this.settings[section][property] = {\r\n        value: typeof settings.default === 'undefined' ? \"\" : settings.default,\r\n        settings: settings\r\n      };\r\n    } else {\r\n      this.settings[section][property].settings = settings;\r\n    }\r\n\r\n    // TODO: validate value\r\n\r\n    this.store();\r\n  }\r\n\r\n  store() {\r\n    StorageManager.set(StorageManager.keys.settings, this.purifySettings());\r\n  }\r\n\r\n  purifySettings() {\r\n    let copy = {};\r\n    for (let section in this.settings) {\r\n      copy[section] = {};\r\n      for (let property in this.settings[section]) {\r\n        copy[section][property] = {value: this.settings[section][property].value};\r\n      }\r\n    }\r\n    return JSON.stringify(copy)\r\n  }\r\n\r\n  getAll() {\r\n    return this.settings;\r\n  }\r\n\r\n  get(key) {\r\n    if (key.indexOf('.') === -1) {\r\n      return undefined;\r\n    }\r\n    let section = key.split('.')[0];\r\n    if (!this.settings[section]) {\r\n      return undefined;\r\n    }\r\n\r\n    let property = key.split('.')[1];\r\n    if (!this.settings[section][property]) {\r\n      return undefined;\r\n    }\r\n\r\n    return this.settings[section][property].value;\r\n  }\r\n\r\n  set(key, value) {\r\n    if (key.indexOf('.') === -1) {\r\n      return undefined;\r\n    }\r\n    let section = key.split('.')[0];\r\n    if (!this.settings[section]) {\r\n      return undefined;\r\n    }\r\n\r\n    let property = key.split('.')[1];\r\n    if (!this.settings[section][property]) {\r\n      return undefined;\r\n    }\r\n\r\n    this.settings[section][property].value = value;\r\n\r\n    Stats.event(\"tbz_settingchanged\", section, property, value);\r\n\r\n    this.store();\r\n    if (this.settings[section][property].settings.callback) {\r\n      this.settings[section][property].settings.callback(section, property, value);\r\n    }\r\n    return value;\r\n  }\r\n}\r\n","import SettingsObject from './settings-object';\r\n\r\nexport default class SettingsCheckbox extends SettingsObject {\r\n  constructor(option) {\r\n    super();\r\n    this.option = option;\r\n  }\r\n\r\n  render() {\r\n    this.obj = $('<form> </form>');\r\n  \tthis.obj.append($(`<div class=\"checkbox\"><label class=\"checkmark-label\" for=\"${this.key}\">${this.option.name} <input type=\"checkbox\" name=\"${this.key}\" id=\"${this.key}\"> <span class=\"checkmark\"></span></label></div>`));\r\n    this.updateUI();\r\n\r\n    // handle clickthis.\r\n    this.obj.find('input[type=checkbox]').click((e) => this.updateValue($(e.target).prop('checked')));\r\n\r\n    return this.obj;\r\n  }\r\n\r\n  updateUI() {\r\n      if (this.obj) {\r\n      \tthis.obj.find('input').prop('checked', this.value);\r\n      \tthis.obj.find('.checkmark-label').css('color', (this.value ? '#0DFF92' : ''))\r\n\t  }\r\n  }\r\n}\r\n","import SettingsObject from './settings-object';\r\n\r\nexport default class SettingsInput extends SettingsObject {\r\n  constructor(options) {\r\n    super();\r\n    this.customLinks = options;\r\n  }\r\n  updateCustomList() {\r\n    const fetchLink = this.customLinks;\r\n    const customlist = $(`#content-1`);\r\n    customlist.html(\"\");\r\n    $.each(fetchLink, (index, value) => {\r\n      customlist.append(`<p title=\"Click to remove\" id=${index}>${value}<span class=\"close1\">&times;</span></p>`);\r\n    });\r\n    $('.close1').click((e) => this.remove(e));\r\n  }\r\n  render() {\r\n    const _this = this\r\n    const scroll = $(`<div id=\"examples\">\r\n    <div id=\"content-1\" class=\"content\">\r\n    <p>;djfsdkljgldjkgddfklgljkdjglkd</p>\r\n    <p>;djfsdkljgldjkgddfklgljkdjglkd</p>\r\n    </div>\r\n\t</div>`)\r\n    $.each(this.customLinks, function (index, value) {\r\n      customlist.append(`<p title=\"Click to remove\" id=\"${index}\">${value} <span class=\"close1\">&times;</span></p>`);\r\n    });\r\n    this.list = scroll;\r\n    this.obj = $(`<div class=\"input\"><label>URL</label><input id=\"inputdata\" type=\"text\" /></div>`);\r\n    this.$button = $(`<div class=\"settings-input-button\">Add</div>`).appendTo(this.obj)\r\n      .click((e) => {\r\n        _this.AddLinks(this.obj.find(`#inputdata`).val());\r\n      });\r\n\r\n    this.obj.prepend(this.list);\r\n    $('.close1').click((e) => this.remove(e));\r\n    this.obj.find(`#${this.id}`).val();\r\n    return this.obj;\r\n  }\r\n\r\n  remove(event) {\r\n    event.target.parentNode.parentNode.removeChild(e.target.parentNode)\r\n    this.customLinks.splice(parseInt(event.target.parentNode.id), 1);\r\n    this.updateCustom(this.customLinks);\r\n    this.updateCustomList();\r\n    this.updateCustomLink();\r\n  }\r\n\r\n  validateUrl(url) {\r\n    let pattern = /[-a-zA-Z0-9@:%_\\+.~#?&//=]{2,256}\\.[a-z]{2,4}\\b(\\/[-a-zA-Z0-9@:%_\\+.~#?&//=]*)?/gi;\r\n    var regex = new RegExp(pattern);\r\n    if (url.match(regex)) {\r\n      this.url = url.slice(url.search(/\\.?[a-z]+\\./i), url.search(/\\./i))\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  AddLinks(val) {\r\n    const _this = this\r\n    if (this.validateUrl(val) && this.url) {\r\n      this.customLinks.push({ name: this.url, url: val, img: ((typeof baseResource === \"undefined\" || baseResource === \"[base-resource]\") ? \"\" : baseResource) + '/images/suggested-sites/customlink.png' });\r\n      this.updateCustom(this.customLinks);\r\n      this.obj.find(`#inputdata`).val('');\r\n      _this.updateCustomList();\r\n      _this.updateCustomLink();\r\n    }\r\n    else {\r\n      alert(\"Please enter valid Url !\");\r\n    }\r\n  }\r\n\r\n  updateCustomLink() {\r\n    const savedLinks = this.customLinks;\r\n    let check = document.querySelector(\"#custom-sites\");\r\n    if (check) { check.remove(check); }\r\n    let prev = document.createElement(\"DIV\");\r\n    prev.id = \"custom-sites\";\r\n    prev.className = \"widget custom-sites-widget\";\r\n    savedLinks.map(data => {\r\n      let el = document.createElement(\"DIV\");\r\n      el.className = 'custom-sites-item';\r\n      el.innerHTML = `<img class='custom-sites-item-icon' src='${data.img}' /><div class='custom-sites-item-label'>${data.name}</div>`;\r\n      el.addEventListener('click', () => {\r\n        Stats.event('tbz_suggestsite_click', data.name, data.url);\r\n        window.open(data.url, '_blank')\r\n      })\r\n      prev.appendChild(el)\r\n    })\r\n    $('.s-search').append(prev);\r\n  }\r\n}\r\n","class SettingsKeys {}\r\n\r\nSettingsKeys.Visible = 'Visible';\r\nSettingsKeys.Icon = \"Icon\";\r\n\r\nexport default SettingsKeys;\r\n","export default class SettingsObject {\r\n  setSettingsKey(settings, key) {\r\n    this.settings = settings;\r\n    this.key = key;\r\n    this.value = this.settings.get(this.key);\r\n  }\r\n\r\n  updateCustom(value) {\r\n    const current = this.settings.get(this.key);\r\n    if (current !== value.url)\r\n      this.settings.set(this.key, [...value]);\r\n    this.value = value;\r\n    if (this.updateUI)\r\n      this.updateUI();\r\n  }\r\n\r\n  getCustom() {\r\n    return this.settings.get(this.key);\r\n  }\r\n\r\n  updateValue(value) {\r\n    const current = this.settings.get(this.key);\r\n    if (current !== value)\r\n      this.settings.set(this.key, value);\r\n    this.value = value;\r\n\r\n    if (this.updateUI)\r\n      this.updateUI();\r\n  }\r\n\r\n  render() {\r\n    return '** REMOVE **' + this.value;\r\n  }\r\n}\r\n","import SettingsObject from './settings-object';\r\n\r\nexport default class SettingsRadios extends SettingsObject {\r\n  constructor(options) {\r\n    super();\r\n    this.options = options;\r\n  }\r\n\r\n  render() {\r\n    this.obj = $('<form> </form>');\r\n    for (let option in this.options) {\r\n      this.obj.append($(`<div class=\"radio\"><input type=\"radio\" name=\"${this.key}\" id=\"${option}\" value=\"${option}\"><label for=\"${option}\">${this.options[option]}</label></div>`))\r\n    }\r\n    this.updateUI();\r\n\r\n    // handle click\r\n    this.obj.find('input[type=radio]').click((e) => this.updateValue($(e.target).val()));\r\n\r\n    return this.obj;\r\n  }\r\n\r\n  updateUI() {\r\n      if (this.obj) this.obj.find(`input#${this.value}`).prop('checked', true);\r\n  }\r\n}\r\n","import SettingsObject from './settings-object';\r\n\r\nexport default class SettingsVisibleSwitch extends SettingsObject {\r\n  render() {\r\n    this.obj = $('<button class=\"visability-switch\"> </button>');\r\n    this.updateUI();\r\n\r\n    // handle click\r\n    this.obj.click(() => this.updateValue(!this.value));\r\n    return this.obj;\r\n  }\r\n\r\n  updateUI() {\r\n    if (this.value) {\r\n      this.obj.addClass('on');\r\n    } else {\r\n      this.obj.removeClass('on');\r\n    }\r\n  }\r\n}\r\n","export default class StorageManager {\r\n  static get(key) {\r\n    return localStorage.getItem(key);\r\n  }\r\n\r\n  static set(key, value) {\r\n    localStorage.setItem(key, value);\r\n  }\r\n\r\n  static get keys() {\r\n      return {\r\n          deviceId: 'id',\r\n          country: 'co',\r\n          publisherId: 'pid',\r\n          subId: 'subid',\r\n          barcodeId: 'br',\r\n          installDate: 'dt',\r\n\r\n          settings: 'conf'\r\n      }\r\n  }\r\n}\r\n","import Logger from '../logger';\r\nimport StorageManager from './storage-manager';\r\n\r\nexport default class TabzmaniaData {\r\n    static init(callback) {\r\n        Logger.log(\"TabzmaniaData::init() called\");\r\n        if (callback) callback();\r\n    }\r\n\r\n    get deviceId() {\r\n        if (!this._deviceId) {\r\n            this._deviceId = StorageManager.get(StorageManager.keys.deviceId);\r\n        }\r\n        return this._deviceId;\r\n    }\r\n\r\n    get country() {\r\n        if (!this._country) {\r\n            this._country = StorageManager.get(StorageManager.keys.country) || 'TJ';\r\n        }\r\n        return this._country;\r\n    }\r\n\r\n    get installDate() {\r\n        if (!this._installDate) {\r\n            this._installDate = StorageManager.get(StorageManager.keys.installDate);\r\n        }\r\n        return this._installDate;\r\n    }\r\n\r\n    get barcodeId() {\r\n        if (!this._barcodeId) {\r\n            this._barcodeId = StorageManager.get(StorageManager.keys.barcodeId);\r\n        }\r\n        return this._barcodeId;\r\n    }\r\n\r\n    get publisherId() {\r\n        if (!this._publisherId) {\r\n            this._publisherId = StorageManager.get(StorageManager.keys.publisherId)\r\n        }\r\n        return this._publisherId;\r\n    }\r\n\r\n    get subId() {\r\n        if (!this._subId) {\r\n            this._subId = StorageManager.get(StorageManager.keys.subId);\r\n        }\r\n        return this._subId;\r\n    }\r\n}\r\n","import Config from \"../config\";\r\nimport Stats from \"../stats\";\r\nimport SettingsKeys from \"./settings/settings-keys\";\r\n\r\nexport default class TourManager {\r\n\tstatic initTour(widgets) {\r\n\t\tif(JSON.parse(localStorage.getItem('tour-running'))) return;\r\n\t\tlocalStorage.setItem('tour-running', 'true');\r\n\t\tfunction endTour(el, message) {\r\n\t\t\tStats.event(message, Config.theme.name);\r\n\t\t\tel.parentNode.removeChild(el);\r\n\t\t\tlocalStorage.setItem('tour', 'true');\r\n\t\t\tlocalStorage.setItem('tour-running', 'false');\r\n\t\t}\r\n\r\n\t\tconst tourStepsArray = [];\r\n\r\n\t\tfor (let widgetName of Config.tourStepsOrder) {\r\n\t\t\tconst widget = widgets.find(widget => widget.name === widgetName);\r\n\t\t\ttry {\r\n\t\t\t\tif (widget.getSettings(SettingsKeys.Visible)) {\r\n\t\t\t\t\tif (Array.isArray(widget.tourStepData)) {\r\n\t\t\t\t\t\tfor (let item of widget.tourStepData) {\r\n\t\t\t\t\t\t\ttourStepsArray.push(item);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttourStepsArray.push(widget.tourStepData);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tlocalStorage.setItem('tour-running', 'false');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (tourStepsArray.length > 0) {\r\n\t\t\tconst $tourOverlay = document.createElement('DIV');\r\n\t\t\t$tourOverlay.classList.add('tour-overlay');\r\n\t\t\t$tourOverlay.style.zIndex = '999998';\r\n\t\t\t$tourOverlay.style.position = 'fixed';\r\n\t\t\t$tourOverlay.style.width = '100%';\r\n\t\t\t$tourOverlay.style.height = '100%';\r\n\t\t\t$tourOverlay.style.background = 'rgba(0,0,0,0.6)';\r\n\t\t\tconst tour = {\r\n\t\t\t\tid: \"tabzmaniaTour\",\r\n\t\t\t\tsteps: tourStepsArray,\r\n\t\t\t\tonEnd: () => {\r\n\t\t\t\t\tendTour($tourOverlay, 'tbz_tour_done');\r\n\t\t\t\t},\r\n\t\t\t\tonClose: () => {\r\n\t\t\t\t\tendTour($tourOverlay, 'tbz_tour_skipped');\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tdocument.body.appendChild($tourOverlay);\r\n\t\t\thopscotch.startTour(tour);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tlocalStorage.setItem('tour-running', 'false');\r\n\t\t}\r\n\t}\r\n}","export default class Utils {\r\n  static padLeft(nr, n, str) {\r\n    return Array(n - String(nr).length + 1).join(str || '0') + nr;\r\n  }\r\n}\r\n","import Logger from '../logger';\r\nimport Config from '../config';\r\nimport SearchWidget from '../widgets/search';\r\nimport ClockWidget from '../widgets/clock';\r\nimport WeatherWidget from '../widgets/weather';\r\nimport TodoWidget from '../widgets/todo';\r\nimport BackgroundPickerWidget from '../widgets/background';\r\nimport SettingsWidget from '../widgets/settings-ui';\r\nimport InstaBackgroundPickerWidget from \"../widgets/insta-background\";\r\nimport SuggestedSitesWidget from '../widgets/suggested-sites';\r\nimport CustomSitesWidget from '../widgets/custom-sites';\r\n\r\nconst widgetsMapping = {\r\n\t'search': SearchWidget,\r\n\t'clock': ClockWidget,\r\n\t'weather': WeatherWidget,\r\n\t'todo': TodoWidget,\r\n\t'background-picker': BackgroundPickerWidget,\r\n\t'insta-background-picker': InstaBackgroundPickerWidget,\r\n\t'suggested-sites': SuggestedSitesWidget,\r\n\t'custom-sites': CustomSitesWidget,\r\n\t'settings-ui': SettingsWidget\r\n};\r\n\r\nexport default class WidgetsManager {\r\n\tconstructor(data, settings) {\r\n\t\tthis.data = data;\r\n\t\tthis.settings = settings;\r\n\t\tthis.widgets = [];\r\n\t}\r\n\r\n\tinit() {\r\n\t\tLogger.log('WidgetsManager::init() called');\r\n\r\n\t\tfor (let widget of Config.theme.loadWidgets) {\r\n\t\t\tif (widgetsMapping[widget]) {\r\n\t\t\t\tthis.widgets.push(new widgetsMapping[widget](this));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n","import Config from './config';\r\nimport Http from './modules/http';\r\n\r\nexport default class Stats {\r\n\r\n    static event(eventName, data1, data2, data3) {\r\n        if (eventName) {\r\n            sendEvent({\r\n                event: eventName,\r\n                data1: data1 || \"\",\r\n                data2: data2 || \"\",\r\n                data3: data3 || \"\"\r\n            });\r\n        }\r\n    }\r\n};\r\n\r\nfunction sendEvent(data) {\r\n    const extName = Config.theme.name || Config.extension.name;\r\n    Http.GET(`https://${Config.stats.pixelDomain}/Pixel.aspx?name=${extName}&type=${data.event}&data1=${data.data1}&data2=${data.data2}&data3=${data.data3}&co=${Config.stats.co}&installdate=${Config.stats.installday}&barcode=${Config.stats.barcode}&userid=${Config.stats.uid}&entity=26&`);\r\n}\r\n","import Config from './config';\r\nimport SettingsManager from './modules/settings-manager';\r\nimport WidgetsManager from './modules/widgets-manager';\r\nimport LocalizationManager from './modules/localization-manager';\r\nimport TabzmaniaData from './modules/tabzmania-data';\r\nimport TourManager from './modules/tour-manager';\r\nimport Stats from './stats';\r\nexport default class Tabzmania {\r\n\tconstructor(_config) {\r\n\t\tConfig.set(_config || {});\r\n\t\tTabzmaniaData.init(() => {\r\n\t\t\tthis.init();\r\n\t\t});\r\n\t}\r\n\r\n\tinit() {\r\n\t\tif (this.isInitialised) return;\r\n\r\n\t\tthis.data = new TabzmaniaData();\r\n\t\tthis.settings = new SettingsManager();\r\n\t\tthis.widgets = new WidgetsManager(this.data, this.settings);\r\n\t\tthis.localization = new LocalizationManager();\r\n\r\n\t\tthis.localization.init();\r\n\t\tthis.widgets.init();\r\n\r\n\t\tlet fadeInterval, moving = false;\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\t$('.widget, .logo-img, .footer, .s-search, .settings').css('opacity', '0');\r\n\t\t}, 3000);\r\n\t\t$(window).mousemove(fadeWidgets);\r\n\t\t$(window).keydown(fadeWidgets);\r\n\r\n\t\tlocalStorage.setItem('tour-running', 'false');\r\n\r\n\t\tif(!localStorage.getItem('tour')) {\r\n\t\t\tTourManager.initTour(this.widgets.widgets);\r\n\t\t}\r\n\r\n\t\tStats.event('pageload_tbz', Config.theme.name);\r\n\r\n\t\tfunction fadeWidgets() {\r\n\t\t\tclearInterval(fadeInterval);\r\n\t\t\tmoving = true;\r\n\t\t\t$('.widget, .logo-img, .footer, .s-search, .settings').css('opacity', '');\r\n\t\t\tsetTimeout(() => moving = false, 200);\r\n\t\t\tfadeInterval = setInterval(() => {\r\n\t\t\t\tif (!moving) {\r\n\t\t\t\t\tclearInterval(fadeInterval);\r\n\t\t\t\t\t$('.widget, .logo-img, .footer, .s-search, .settings').css('opacity', '0');\r\n\t\t\t\t}\r\n\t\t\t}, 3000);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst tabzmania = new Tabzmania(window._config);\r\n","import SettingsKeys from './modules/settings/settings-keys';\r\n\r\nexport default class Widget {\r\n  constructor(name, manager, elementType) {\r\n    this.name = name;\r\n    this.manager = manager;\r\n    this.data = this.manager.data;\r\n    this.settings = this.manager.settings;\r\n    this.widgetElement = document.createElement(elementType || 'div');\r\n\r\n    if (this.init) {\r\n      this.init();\r\n    }\r\n    this._render();\r\n\r\n    if (this.start) {\r\n      this.start();\r\n    }\r\n\r\n    this.handleVisability(this.settings.get(`${this.name}.${SettingsKeys.Visible}`));\r\n  }\r\n\r\n  initSetting(key, defaultValue, settingsObject, onChangeCallback) {\r\n    let callbacks = [];\r\n    if (onChangeCallback) callbacks.push(onChangeCallback);\r\n    if (settingsObject) callbacks.push((property, value) => settingsObject.updateValue(value));\r\n    this.settings.register(this.name, key, defaultValue, settingsObject, (name, property, value) => this._settingsChanged(name, property, value, callbacks));\r\n  }\r\n\r\n  getSettings(key) {\r\n    return this.settings.get(`${this.name}.${key}`);\r\n  }\r\n\r\n  setSettings(key, value) {\r\n    this.settings.set(`${this.name}.${key}`, value);\r\n  }\r\n\r\n  _render() {\r\n    if (!this.widgetElement) return;\r\n    if (this.render)\r\n\t\tthis.render();\r\n  }\r\n\r\n  _settingsChanged(name, property, value, callbacks) {\r\n\r\n    if (property === SettingsKeys.Visible) {\r\n      this.handleVisability(value);\r\n    }\r\n\r\n    for (let callback of callbacks) {\r\n      if (callback)\r\n        callback(property, value);\r\n    }\r\n  }\r\n\r\n  handleVisability(value) { // handle visability\r\n    if (typeof value === 'undefined' || value === true) {\r\n      this.showWidget('');\r\n    } else {\r\n      this.showWidget('none');\r\n    }\r\n  }\r\n\r\n  showWidget(style) {\r\n    if (this.widgetElement) this.widgetElement.style.display = style;\r\n  }\r\n}\r\n","import SettingsKeys from '../modules/settings/settings-keys';\r\nimport Widget from '../widget';\r\nimport Config from '../config';\r\nimport SettingsRadios from '../modules/settings/settings-radios';\r\n\r\nexport default class BackgroundPickerWidget extends Widget {\r\n\tconstructor(manager) {\r\n\t\tsuper('Background', manager, 'div');\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.currentBackgroundIndex = \"bgidx\";\r\n\t\tthis.bgChangeKey = \"gbchnge\";\r\n\t\tthis.initSetting(SettingsKeys.Icon, ((typeof baseResource === \"undefined\" || baseResource === \"[base-resource]\") ? \"\" : baseResource) + '/images/background.png');\r\n\t\tthis.initSetting(this.currentBackgroundIndex, 0, undefined, () => this.start());\r\n\t\tthis.initSetting(this.bgChangeKey, \"1\", new SettingsRadios({ '0': \"No Change\", '1': \"Every New Tab\" }));\r\n\t}\r\n\r\n\trender() {\r\n\t\t// render bg picker\r\n\t\tthis.widgetElement.className = \"background-picker-content widget-scroll\";\r\n        this.widgetElement.id = \"bg-images\";\r\n\t\t$('.setting-panel').append(this.widgetElement);\r\n\r\n\t\t$('.stn-background').click((e) => {\r\n\t\t\te.stopPropagation();\r\n\r\n\t\t\tif(!$('#bg-images').children().length > 0)\r\n\t\t\t{\r\n\t\t\t\tfor (let i in Config.theme.images) {\r\n\t\t\t\t\tconst $thumbContainer = $('<div class=\"thumb loading\"></div>').appendTo($(this.widgetElement));\r\n\t\t\t\t\tconst thumbImage = new Image();\r\n\t\t\t\t\tthumbImage.onload = () => $thumbContainer.removeClass('loading');\r\n\t\t\t\t\tthumbImage.src = Config.theme.images[i];\r\n\t\t\t\t\t$(thumbImage).attr('index', i).click((e) => {\r\n\t\t\t\t\t\tthis.setSettings(this.currentBackgroundIndex, $(e.target).attr('index'))\r\n\t\t\t\t\t}).appendTo($thumbContainer);\r\n\t\t\t\t\t//$(this.widgetElement).append($(`<div class=\"thumb\"><img src=\"${Config.theme.images[i]}\" index='${i}' alt=\"Image\"></div>`))\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst $settings = $('.settings');\r\n\t\t\tif ($settings.hasClass('settings-open') && $settings.hasClass('background-open')) {\r\n\t\t\t\t$settings.removeClass('settings-open');\r\n\t\t\t} else {\r\n\t\t\t\t$settings.addClass('background-open');\r\n\t\t\t\t$settings.addClass('settings-open');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tlet index = this.getSettings(this.currentBackgroundIndex);\r\n\t\tif (this.getSettings(this.bgChangeKey) === \"1\") {\r\n\t\t\tthis.setSettings(this.currentBackgroundIndex, index + 1);\r\n\t\t}\r\n\t}\r\n\r\n\tstart() {\r\n\t\tif (Config.theme.images.length === 0) return;\r\n\r\n\t\tlet index = this.getSettings(this.currentBackgroundIndex);\r\n\t\tif (!Config.theme.images[index]) {\r\n\t\t\tthis.setSettings(this.currentBackgroundIndex, 0);\r\n\t\t} else {\r\n\t\t\t$('body').css('background-image', ((typeof baseResource === \"undefined\" || baseResource === \"[base-resource]\") ? \"\" : baseResource) + '/images/test-bg.png');\r\n\t\t\tconst img = new Image();\r\n\t\t\timg.onload = () => $('body').css('background-image', `url('${Config.theme.images[index]}')`);\r\n\t\t\timg.src = Config.theme.images[index];\r\n\r\n\t\t}\r\n\t}\r\n}","import SettingsKeys from '../modules/settings/settings-keys';\r\nimport Widget from '../widget';\r\nimport Utils from '../modules/utils';\r\nimport SettingsVisibleSwitch from '../modules/settings/settings-visible-switch';\r\nimport SettingsRadios from '../modules/settings/settings-radios';\r\n\r\nexport default class ClockWidget extends Widget {\r\n\tconstructor(manager) {\r\n\t\tsuper(\"Clock\", manager, 'div');\r\n\t\tthis.tourStepData = {\r\n\t\t\ttarget: 'clock',\r\n\t\t\tplacement: 'top',\r\n\t\t\ttitle: 'Clock',\r\n\t\t\tcontent: 'Accurate date and time based on your current location.',\r\n\t\t\txOffset: -152,\r\n\t\t\tarrowOffset: 236,\r\n\t\t\tonShow: () => $('.bottom-widgets').css('zIndex', 999999),\r\n\t\t\tonNext: () => $('.bottom-widgets').css('zIndex', '')\r\n\t\t}\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.tick_interval = null;\r\n\t\tthis.timeFormatKey = \"TimeFormat\";\r\n\r\n\t\tthis.initSetting(SettingsKeys.Icon, ((typeof baseResource === \"undefined\" || baseResource === \"[base-resource]\") ? \"\" : baseResource) + '/images/clock.png');\r\n\t\tthis.initSetting(SettingsKeys.Visible, true, new SettingsVisibleSwitch());\r\n\t\tthis.initSetting(this.timeFormatKey, \"24\", new SettingsRadios({\r\n\t\t\t'12': \"12 hours\",\r\n\t\t\t'24': \"24 hours\"\r\n\t\t}), () => this.tick());\r\n\t}\r\n\r\n\trender() {\r\n\t\tthis.widgetElement.id = \"clock\";\r\n\t\tthis.widgetElement.className = \"widget\";\r\n\r\n\t\t$('.bottom-widgets').append(this.widgetElement);\r\n\r\n\t\t$(\"#clock\").on('click', (e) => {\r\n\t\t\te.stopPropagation();\r\n\t\t\tif (this.getSettings(this.timeFormatKey) === \"12\") {\r\n\t\t\t\tthis.setSettings(this.timeFormatKey, \"24\");\r\n\t\t\t} else {\r\n\t\t\t\tthis.setSettings(this.timeFormatKey, \"12\");\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tstart() {\r\n\t\tthis.tick();\r\n\t}\r\n\r\n\ttick() {\r\n\t\tclearInterval(this.tick_interval);\r\n\t\tlet date = new Date();\r\n\t\tlet hours = date.getHours();\r\n\t\tlet minutes = date.getMinutes();\r\n\r\n\t\tlet dd;\r\n\t\tif (this.getSettings(this.timeFormatKey) === \"12\") {\r\n\t\t\tdd = (hours >= 12) ? 'pm' : 'am';\r\n\t\t\thours = (hours > 12) ? (hours - 12) : hours\r\n\t\t}\r\n\t\tlet months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\r\n\t\tlet days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n\r\n\t\tlet year = date.getFullYear();\r\n\t\tlet month = date.getMonth();\r\n\t\tlet day = date.getDay();\r\n\r\n\t\tlet _date = days[day] + ', ' + months[month] + ' ' + date.getDate() + ' ' + year;\r\n\r\n\t\tlet clock = $(\"#clock\");\r\n\t\tlet dateformat = dd ? dd.toLocaleUpperCase() : \"\";\r\n\t\tlet html = `\r\n                <div class='widget-top clock-display'>\r\n                  ${Utils.padLeft(hours, 2)}:${Utils.padLeft(minutes, 2)} <span class='small'>${dateformat}</span>\r\n                </div>\r\n                <div class='widget-bottom date-display'>\r\n                    ${_date}\r\n                </div>`;\r\n\r\n\t\tclock.html(html);\r\n\t\tthis.tick_interval = setInterval(() => this.tick(), 2000);\r\n\t};\r\n}\r\n","import SettingsKeys from '../modules/settings/settings-keys';\r\nimport Widget from '../widget';\r\nimport SettingsVisibleSwitch from '../modules/settings/settings-visible-switch';\r\nimport Stats from \"../stats\";\r\nimport Http from '../modules/http';\r\nimport SettingsInput from '../modules/settings/settings-input';\r\n\r\nexport default class SuggestedSitesWidget extends Widget {\r\n\tconstructor(manager) {\r\n\t\tsuper(\"CustomQuickLinks\", manager, 'div');\r\n\t\tthis.tourStepData = {\r\n\t\t\ttarget: 'custom-sites',\r\n\t\t\tplacement: 'top',\r\n\t\t\ttitle: 'custom Sites',\r\n\t\t\tcontent: 'Check out these useful websites.',\r\n\t\t\txOffset: -152,\r\n\t\t\tarrowOffset: 236,\r\n\t\t\tonShow: () => $('#search').css('zIndex', 999999),\r\n\t\t\tonNext: () => $('#search').css('zIndex', '')\r\n\t\t}\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.customListData = \"CustomList\";\r\n\t\tthis.initSetting(SettingsKeys.Icon, ((typeof baseResource === \"undefined\" || baseResource === \"[base-resource]\") ? \"\" : baseResource) + '/images/suggested-sites.png');\r\n\t\tthis.initSetting(SettingsKeys.Visible, true, new SettingsVisibleSwitch());\r\n\t\tlet localdata = this.getSettings(this.customListData);\r\n\t\tif (localdata) {\r\n\t\t\tthis.initSetting(this.customListData, localdata, new SettingsInput(localdata));\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.initSetting(this.customListData, [], new SettingsInput());\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tloadStaticLink() {\r\n\t\treturn this.getSettings(this.customListData);\r\n\t};\r\n\r\n\tloadSiteLinkData() {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tHttp.getJson(`https://api.sendmepixel.com/suggest/tiles?c=1&sub=TBZ`, (tilesData) => {\r\n\t\t\t\tlet arr = [];\r\n\t\t\t\tconst pageSize = 10;\r\n\t\t\t\tif (arr.length != pageSize) {\r\n\t\t\t\t\tconst leftlink = pageSize - arr.length;\r\n\t\t\t\t\t$.each(this.loadStaticLink().slice(0, leftlink), function (key, value) {\r\n\t\t\t\t\t\tarr.push({\r\n\t\t\t\t\t\t\t\"name\": value.name, \"url\": value.url, \"img\": value.img\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tresolve(arr);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\tSuggestedLinks() {\r\n\t\tthis.widgetElement.id = \"custom-sites\";\r\n\t\tthis.widgetElement.className = \"widget custom-sites-widget\";\r\n\t\tthis.suggestedSites = [];\r\n\t\tthis.loadSiteLinkData().then(suggestedSites => {\r\n\t\t\tsuggestedSites.map(siteData => {\r\n\t\t\t\tconst el = document.createElement(\"DIV\");\r\n\t\t\t\tel.className = 'custom-sites-item';\r\n\t\t\t\tel.innerHTML = `<img class='custom-sites-item-icon' src='${siteData.img}' /><div class='custom-sites-item-label'>${siteData.name}</div>`;\r\n\r\n\t\t\t\tel.addEventListener('click', () => {\r\n\t\t\t\t\tStats.event('tbz_suggestsite_click', siteData.name, siteData.url);\r\n\t\t\t\t\twindow.open(siteData.url, '_blank')\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.widgetElement.append(el);\r\n\t\t\t});\r\n\r\n\t\t\t$('.s-search').append(this.widgetElement);\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst _this = this\r\n\t\tconsole.log(\"this is render function :-\", _this.settings)\r\n\t\tthis.widgetElement.id = \"custom-sites\";\r\n\t\tthis.widgetElement.className = \"widget custom-sites-widget\";\r\n\t\tthis.suggestedSites = [];\r\n\t\tthis.loadSiteLinkData().then(suggestedSites => {\r\n\t\t\tsuggestedSites.map(siteData => {\r\n\t\t\t\tconst el = document.createElement(\"DIV\");\r\n\t\t\t\tel.className = 'custom-sites-item';\r\n\t\t\t\tel.innerHTML = `<img class='custom-sites-item-icon' src='${siteData.img}' /><div class='custom-sites-item-label'>${siteData.name}</div>`;\r\n\r\n\t\t\t\tel.addEventListener('click', () => {\r\n\t\t\t\t\tStats.event('tbz_suggestsite_click', siteData.name, siteData.url);\r\n\t\t\t\t\twindow.open(siteData.url, '_blank')\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.widgetElement.append(el);\r\n\t\t\t});\r\n\r\n\t\t\t$('.s-search').append(this.widgetElement);\r\n\t\t});\r\n\t}\r\n\r\n\tstart() {\r\n\t\t// this.SuggestedLinks();\r\n\t}\r\n}\r\n","import SettingsKeys from '../modules/settings/settings-keys';\r\nimport Widget from '../widget';\r\nimport Config from '../config';\r\nimport SettingsRadios from \"../modules/settings/settings-radios\";\r\n\r\nexport default class InstaBackgroundPickerWidget extends Widget {\r\n  constructor(manager) {\r\n      super('Background', manager, 'div');\r\n  }\r\n\r\n  init() {\r\n    const $body = $('body');\r\n    this.currentBackgroundIndex = \"bgidx\";\r\n    this.bgChangeKey = \"gbchnge\";\r\n    this.instaNameKey = \"instatag\";\r\n    this.instaImagesKey = \"instaimages\";\r\n    this.$overlayLoader = $(`<div class=\"overlay-loader\"><div class=\"lds-spinner\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>`);\r\n    this.$bigImage = $(`<img class=\"big-image\" />`).prependTo($body);\r\n    this.$smolImage = $(`<img class=\"smol-image\" />`).prependTo($body);\r\n    this.$baseResourceUrl = (typeof baseResource === \"undefined\" || baseResource === \"[base-resource]\") ? \"\" : baseResource;\r\n    this.$instaInputDialog = $(`\r\n            <div class=\"insta-input-dialog\">\r\n                <div class=\"insta-input-dialog-title\"><span class=\"highlight-text\">Social</span> Theme</div>\r\n                <div class=\"insta-input-subtitle\">Enter a <span class=\"highlight-text\">@profilename</span> or a <span class=\"highlight-text\">#hashtag</span> below to set a social background.</div>\r\n                <div class=\"insta-input-container\" > \r\n                    <input type=\"text\" class=\"insta-input\" placeholder=\"E.g. @AdamLevine or #popmusic2018\" />\r\n                    <div class=\"insta-input-button\">Set</div>\r\n                </div>\r\n                <div class=\"helper-text\">Click the (<img src=\"${this.$baseResourceUrl}/images/ig_btn.png\" class=\"helper-icon\"/>) icon to refresh the images or use the backgrounds panel (<img src=\"${this.$baseResourceUrl}/images/bg_btn_2.png\" class=\"helper-icon\" />) to choose a new background</div>\r\n                <div class=\"insta-input-close\">Close</div>\r\n            </div>\r\n    `).appendTo($body);\r\n    this.serviceUrl = 'https://social.tabzmania.com';\r\n    //this.serviceUrl = 'http://localhost:49704';\r\n    $body.append(this.$overlayLoader);\r\n  \tthis.initSetting(SettingsKeys.Icon, this.$baseResourceUrl + '/images/background.png');\r\n    this.initSetting(this.currentBackgroundIndex, 0, undefined, () => this.start());\r\n    this.initSetting(this.instaImagesKey, [], undefined, () => this.start());\r\n    this.initSetting(this.bgChangeKey, \"1\", new SettingsRadios({'0': \"No Change\", '1': \"Every New Tab\"}));\r\n    $('.insta-input-close').click(() => this.$instaInputDialog.hide());\r\n    $('.insta-input-button').click(() => {\r\n        const $instaInput  = $('.insta-input');\r\n        const value = $instaInput.val();\r\n        if (value.length > 0) {\r\n            if (value.indexOf(\"@\") === 0) {\r\n                this.$instaInputDialog.hide();\r\n                this.getImagesDataByAccount(value.slice(1))\r\n                    .then(imagesArr => {\r\n                        if (imagesArr.length > 0) {\r\n                            this.setSettings(this.instaImagesKey, imagesArr);\r\n                            this.setSettings(this.instaNameKey, value.slice(1));\r\n                            this.updateImageComponents(imagesArr, true)\r\n                        } else {\r\n\t\t\t\t\t\t\tthis.updateImageComponents([this.$baseResourceUrl + \"/images/wallpapers/generic-text.jpg\"], true)\r\n                        }\r\n                    })\r\n\t\t\t\t\t.catch(() => this.updateImageComponents([this.$baseResourceUrl + \"/images/wallpapers/generic-text.jpg\"], true))\r\n            } else if (value.indexOf(\"#\") === 0) {\r\n                this.$instaInputDialog.hide();\r\n                this.getImagesDataByTag(value.slice(1))\r\n                    .then(imagesArr => {\r\n                        if (imagesArr.length > 0) {\r\n                            this.setSettings(this.instaImagesKey, imagesArr);\r\n                            this.setSettings(this.instaNameKey, value.slice(1));\r\n                            this.updateImageComponents(imagesArr, true)\r\n                        } else {\r\n\t\t\t\t\t\t\tthis.updateImageComponents([this.$baseResourceUrl + \"/images/wallpapers/generic-text.jpg\"], true)\r\n                        }\r\n                    })\r\n\t\t\t\t\t.catch(() => this.updateImageComponents([this.$baseResourceUrl + \"/images/wallpapers/generic-text.jpg\"], true))\r\n            } else {\r\n                //TODO: handle error notifcation\r\n            }\r\n        }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    // render bg picker\r\n      const _this = this;\r\n      if(this.getSettings(this.instaImagesKey) && this.getSettings(this.instaImagesKey).length > 0) {\r\n            renderCallback(this.getSettings(this.instaImagesKey));\r\n      } else {\r\n          this.$instaInputDialog.show();\r\n          renderCallback([this.$baseResourceUrl + \"/images/wallpapers/generic.jpg\"]);\r\n      }\r\n\r\n\r\n      function renderCallback(imagesArr) {\r\n          _this.start();\r\n          _this.widgetElement.className = \"background-picker-content widget-scroll\";\r\n\r\n          _this.updateImageComponents(imagesArr, false);\r\n\r\n          $('.setting-panel').append(_this.widgetElement);\r\n\r\n          $('.stn-background').click((e)=>{\r\n              e.stopPropagation();\r\n              const $settings = $('.settings');\r\n              if ($settings.hasClass('settings-open') && $settings.hasClass('background-open')) {\r\n                  $settings.removeClass('settings-open');\r\n              } else {\r\n                  $settings.addClass('background-open');\r\n                  $settings.addClass('settings-open');\r\n              }\r\n          });\r\n\r\n          $('.stn-insta').click((e)=>{\r\n              e.stopPropagation();\r\n              _this.$instaInputDialog.toggle();\r\n          });\r\n      }\r\n  }\r\n\r\n  start() {\r\n    if (Config.theme.images.length === 0) return;\r\n\r\n    let index = this.getSettings(this.currentBackgroundIndex);\r\n    if (!Config.theme.images[index]) {\r\n      this.setSettings(this.currentBackgroundIndex, 0);\r\n    } else {\r\n      //$('body').css('background-image', `url('${Config.theme.images[index]}')`);\r\n      this.$bigImage.attr('src', Config.theme.images[index]);\r\n      this.$smolImage.attr('src', Config.theme.images[index]);\r\n    }\r\n  }\r\n\r\n    getImagesDataByAccount(value) {\r\n        this.$overlayLoader.show();\r\n        const $settings = $('.settings');\r\n        $settings.removeClass('settings-open');\r\n        return fetch(`${this.serviceUrl}/Images/Fetch?type=1&query=${value}&count=30`)\r\n            .then(response => response.json())\r\n            .then(imagesArr => imagesArr)\r\n            .finally(()=>this.$overlayLoader.hide());\r\n    }\r\n\r\n    getImagesDataByTag(value) {\r\n        this.$overlayLoader.show();\r\n        const $settings = $('.settings');\r\n        $settings.removeClass('settings-open');\r\n        return fetch(`${this.serviceUrl}/Images/Fetch?type=0&query=${value}&count=30`)\r\n            .then(response => response.json())\r\n            .then(imagesArr => imagesArr)\r\n            .finally(()=>this.$overlayLoader.hide());\r\n    }\r\n\r\n    populateConfigData(imagesArr) {\r\n        window._config.images = imagesArr;\r\n        Config.theme.images = imagesArr;\r\n    }\r\n\r\n    updateImageComponents(imagesArr, immediate) {\r\n        this.populateConfigData(imagesArr);\r\n        const $widgetElement = $(this.widgetElement);\r\n        $widgetElement.empty();\r\n        for (let i in Config.theme.images) {\r\n            $widgetElement.append($(`<div class=\"thumb\"><img src=\"${Config.theme.images[i]}\" index='${i}' alt=\"Image\"></div>`));\r\n        }\r\n        $widgetElement.find('img').click((e) => {\r\n            this.setSettings(this.currentBackgroundIndex, $(e.target).attr('index'));\r\n        });\r\n        let index = this.getSettings(this.currentBackgroundIndex);\r\n        if (this.getSettings(this.bgChangeKey) === \"1\" || immediate === true) {\r\n            this.setSettings(this.currentBackgroundIndex, index ? 0 : Math.floor(Math.random() * Config.theme.images.length) );\r\n            this.setSettings('lastBg', Config.theme.images[index]);\r\n            //getImageLightness(Config.theme.images[index], result => alert(result));\r\n        }\r\n    }\r\n}\r\n\r\n//TODO: implement to detect background brightness\r\n// function getImageLightness(imageSrc,callback) {\r\n//     var img = document.createElement(\"img\");\r\n//     img.crossOrigin = \"Anonymous\";\r\n//     img.src = imageSrc;\r\n//     img.style.display = \"none\";\r\n//     document.body.appendChild(img);\r\n//\r\n//     var colorSum = 0;\r\n//\r\n//     img.onload = function() {\r\n//         // create canvas\r\n//         var canvas = document.createElement(\"canvas\");\r\n//         canvas.width = this.width;\r\n//         canvas.height = this.height;\r\n//\r\n//         var ctx = canvas.getContext(\"2d\");\r\n//         ctx.drawImage(this,0,0);\r\n//\r\n//         var imageData = ctx.getImageData(0,0,canvas.width,canvas.height);\r\n//         var data = imageData.data;\r\n//         var r,g,b,avg;\r\n//\r\n//         for(var x = 0, len = data.length; x < len; x+=4) {\r\n//             r = data[x];\r\n//             g = data[x+1];\r\n//             b = data[x+2];\r\n//\r\n//             avg = Math.floor((r+g+b)/3);\r\n//             colorSum += avg;\r\n//         }\r\n//\r\n//         var brightness = Math.floor(colorSum / (this.width*this.height));\r\n//         callback(brightness);\r\n//     }\r\n// }","import SettingsKeys from '../modules/settings/settings-keys';\r\nimport Widget from '../widget';\r\nimport Config from '../config';\r\nimport SettingsRadios from '../modules/settings/settings-radios';\r\nimport SearchUtils from '../modules/search-utils';\r\nimport Stats from '../stats';\r\n\r\nimport SettingsCheckbox from \"../modules/settings/settings-checkbox\";\r\nimport SettingsVisibleSwitch from \"../modules/settings/settings-visible-switch\";\r\n\r\nexport default class SearchWidget extends Widget {\r\n  constructor(manager) {\r\n    super(\"Search\", manager, 'div');\r\n\r\n\tthis.tourStepData = {\r\n\t  target: 'srch-frm',\r\n\t  placement: 'bottom',\r\n\t  title: 'Search bar',\r\n\t  content: 'What are you looking for? Just type here and enjoy!',\r\n\t  onShow: () => $('#search').css('zIndex', 999999),\r\n\t  onNext: () => $('#search').css('zIndex', '')\r\n\t}\r\n  }\r\n\r\n  init() {\r\n    this.searchVer = 1.1;\r\n    this.chooseEngineKey = \"ChooseEngine\";\r\n    this.searchInNewTabKey = \"SearchInNewTab\";\r\n    this.searchVersionKey = \"SearchVer\";\r\n    this.searchUrl = SearchUtils.buildSearchUrl(Config.search.schema, Config.search.searchDomain, Config.search.searchParams, {\r\n      // DeviceID: this.data.deviceId,\r\n      // Country: this.data.country,\r\n      // SID: this.data.subId,\r\n      // Barcode: this.data.barcodeId,\r\n      // InstallDate: this.data.installDate,\r\n      PID: Config.defaults.publisherId,\r\n      Publisher: Config.defaults.publisherName,\r\n      SearchType: Config.search.searchType\r\n    });\r\n\r\n    this.initAutocomplete();\r\n\r\n    this.customFeed = this.getSettings(this.chooseEngineKey) || \"yahoo\";\r\n\r\n    this.searchInNewTab = this.getSettings(this.searchInNewTabKey) || \"true\";\r\n\r\n    this.initSetting(this.searchVersionKey, 0.1);\r\n  \tthis.initSetting(SettingsKeys.Icon, ((typeof baseResource === \"undefined\" || baseResource === \"[base-resource]\") ? \"\" : baseResource) + '/images/search.png');\r\n    this.initSetting(this.chooseEngineKey, \"google\", new SettingsRadios({ \"google\": \"Google\", \"yahoo\": \"Yahoo\", \"bing\": \"Bing\" }), (value) => this.onEngineChange(value));\r\n  \tthis.initSetting(this.searchInNewTabKey, true, new SettingsCheckbox({name: \"Search in a new tab\"}), (value) => this.onSearchInNewTabChange(value));\r\n  \tthis.initSetting(SettingsKeys.Visible, true);\r\n  }\r\n\r\n  onEngineChange(value) {\r\n    if (value === \"ChooseEngine\") {\r\n        this.customFeed = this.getSettings(this.chooseEngineKey);\r\n    }\r\n  }\r\n\r\n\tonSearchInNewTabChange(value) {\r\n\t\tif (value === \"SearchInNewTab\") {\r\n\t\t\tthis.searchInNewTab = this.getSettings(this.searchInNewTabKey);\r\n\t\t}\r\n\t}\r\n\r\n  render() {\r\n    // render element\r\n    this.widgetElement.className = \"s-search\";\r\n    this.widgetElement.id = \"search\";\r\n    this.widgetElement.innerHTML = `\r\n            <form id=\"srch-frm\" class=\"field\" name=\"search-form\">\r\n              <input type=\"text\" name=\"q\" id=\"search-term\" placeholder=\" \" autofocus autocomplete=\"off\" />\r\n              <div class=\"floater\"></div>\r\n              <div class=\"field-click\"></div>\r\n              <div id=\"search-autocomplete\" class=\"search-autocomplete\">\r\n                <ul id=\"search-autocomplete-list\" selected-index=\"-1\"></ul>\r\n              </div>\r\n            </form>`;\r\n\r\n    // bind action\r\n    $(this.widgetElement).find('form').submit((e) => {\r\n      e.stopPropagation();\r\n      this.submitSearch();\r\n      return false;\r\n    });\r\n\r\n    // add to dom\r\n    document.body.insertBefore(this.widgetElement, document.body.firstChild);\r\n\r\n    // handle autocomplete\r\n    this.autocomplete = $(\"#search-autocomplete\");\r\n    $(\"#search-term\")\r\n      .on('focus', (e) => {\r\n        if ($(e.target).val().length > 0) {\r\n          this.autocomplete.slideDown('fast');\r\n        }\r\n      })\r\n      .on('input propertychange paste', (e) => {\r\n        //this will handle pasting text and clearing text with browser built in clear button\r\n        $(e.target).trigger('keyup');\r\n      })\r\n      .on('keydown', (e) => {\r\n        clearTimeout(this.searchTimer);\r\n        if ($(e.target).val().length <= 0) {\r\n          $(\"#search-autocomplete-list\").html(\"\");\r\n        }\r\n      })\r\n      .on('keyup', (e) => {\r\n        const j = e.keyCode;\r\n        const $autocompleteListItem =  $(\"#search-autocomplete-list li\");\r\n        if (j === 38 || j === 40) {\r\n          this.autocomplete.slideDown('fast');\r\n          clearTimeout(this.searchTimer);\r\n          const $autocompleteList = $(\"#search-autocomplete-list\");\r\n          let selectedIndex = Number($autocompleteList.attr(\"selected-index\"));\r\n          const maxItems = $autocompleteListItem.length - 1;\r\n\r\n          $(\".selected\").removeClass(\"selected\");\r\n          if (j === 38) {\r\n            selectedIndex = selectedIndex === -1 ? maxItems : ((selectedIndex - 1) < 0 ? maxItems : (selectedIndex - 1));\r\n          } else if (j === 40) {\r\n            selectedIndex = selectedIndex === -1 ? 0 : ((selectedIndex + 1) > maxItems ? 0 : (selectedIndex + 1));\r\n          }\r\n          $autocompleteList.attr(\"selected-index\", selectedIndex.toString());\r\n          $('#search-term')[0].value = $($autocompleteListItem[selectedIndex]).text();\r\n          $($autocompleteListItem[selectedIndex]).addClass(\"selected\");\r\n        } else {\r\n          if ($(e.target).val().length > 0) {\r\n            clearTimeout(this.searchTimer);\r\n            this.searchTimer = setTimeout(this.loadAutocompleteData, this.searchTimeout * 1000);\r\n            this.autocomplete.slideDown('fast');\r\n          } else {\r\n            clearTimeout(this.searchTimer);\r\n            this.autocomplete.slideUp('fast');\r\n          }\r\n        }\r\n\r\n        });\r\n\r\n    const ver = Number(this.getSettings(this.searchVersionKey) || 0.1);\r\n    if (this.searchVer > ver) {\r\n        this.setSettings(this.chooseEngineKey, \"yahoo\");\r\n        this.setSettings(this.searchVersionKey, this.searchVer);\r\n    }\r\n  }\r\n\r\n  submitSearch() {\r\n    const query = $('#search-term').val();\r\n    if (query !== \"\") {\r\n      try {\r\n          Stats.event('tbz_search', this.customFeed, query);\r\n          if(this.searchInNewTab === true) {\r\n\t\t\t  window.open(`${this.searchUrl}&q=${encodeURIComponent(query)}&searchp=${this.customFeed}`, \"_blank\");\r\n\t\t  } else {\r\n\t\t\t  window.location = `${this.searchUrl}&q=${encodeURIComponent(query)}&searchp=${this.customFeed}`;\r\n\t\t  }\r\n\r\n      } catch (e) {\r\n        location.reload();\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  initAutocomplete() {\r\n\r\n    this.searchTimer = null;\r\n    this.searchTimeout = 0.4;\r\n\r\n    // register autocomplete jsonp callback\r\n    window.aCallback = (result) => {\r\n      if (result && result.length > 1) {\r\n        const suggestions = result[1];\r\n\r\n        const total = [];\r\n        for (let i = 0; i < suggestions.length && i < 5; ++i) {\r\n          const results = $(`<li class=\"search-result\">${suggestions[i]}</li>`);\r\n          results.on('click', (e) => {\r\n            $('#search-term')[0].value = $(e.target).text();\r\n            this.submitSearch();\r\n          });\r\n          total.push(results);\r\n        }\r\n        $('#search-autocomplete-list').html(total);\r\n      }\r\n    };\r\n\r\n    // handle click to close autocomplete\r\n    $(document).on('click', (e) => {\r\n      //click anywhere outside searchbox to close\r\n      if (!$(e.target).closest('#search-autocomplete').length && !$(e.target).closest('#search-term').length) {\r\n        if (this.autocomplete.is(':visible')) {\r\n          this.autocomplete.slideUp('fast');\r\n          clearTimeout(this.searchTimer);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  loadAutocompleteData() {\r\n    const query = $('#search-term').val();\r\n    const baseUrl = `//suggestqueries.google.com/complete/search?output=chrome&hl=en&q=${query}&jsonp=aCallback`;\r\n\r\n    $.ajax({\r\n      url: baseUrl,\r\n      dataType: \"jsonp\"\r\n    });\r\n  }\r\n}\r\n","import SettingsKeys from '../modules/settings/settings-keys';\r\nimport Widget from '../widget';\r\nimport TourManager from '../modules/tour-manager';\r\nimport SettingsVisibleSwitch from \"../modules/settings/settings-visible-switch\";\r\n\r\n\r\nexport default class SettingsWidget extends Widget {\r\n\tconstructor(manager) {\r\n\t\tsuper('Settings', manager, 'div');\r\n\t\tthis.manager = manager;\r\n\t\tthis.tourStepData = [\r\n\t\t\t{\r\n\t\t\t\ttarget: 'stn-general',\r\n\t\t\t\tplacement: 'bottom',\r\n\t\t\t\ttitle: 'Settings',\r\n\t\t\t\tcontent: 'Customize your tab! Change your widgets and perform changes to your backgrounds.',\r\n\t\t\t\txOffset: -276,\r\n\t\t\t\tarrowOffset: 272,\r\n\t\t\t\tonShow: () =>  $('.settings').css('zIndex', 999999),\r\n\t\t\t\tonNext: () =>  $('.settings').css('zIndex', 9999)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttarget: 'stn-background',\r\n\t\t\t\tplacement: 'bottom',\r\n\t\t\t\ttitle: 'Background Selection',\r\n\t\t\t\tcontent: 'Easily go back and forth between the images of your theme and enjoy!',\r\n\t\t\t\txOffset: -256,\r\n\t\t\t\tarrowOffset: 252,\r\n\t\t\t\tonShow: () =>  $('.settings').css('zIndex', 999999),\r\n\t\t\t\tonNext: () =>  $('.settings').css('zIndex', 9999)\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.initSetting(SettingsKeys.Visible, true);\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tconst _settings = this.settings.getAll();\r\n\r\n\t\t// run on sorted sections\r\n\t\tfor (let section of Object.keys(_settings).sort()) {\r\n\t\t\t// check if section need to be rendered\r\n\t\t\tlet show = false;\r\n\t\t\tfor (let property in _settings[section]) {\r\n\t\t\t\tif (_settings[section][property].settings && _settings[section][property].settings.obj) {\r\n\t\t\t\t\tshow = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (show)\r\n\t\t\t// render section\r\n\t\t\t\tthis.renderSection(section, _settings[section]);\r\n\t\t}\r\n\r\n\t\tthis.widgetElement.className = \"settings-content\";\r\n\t\t$('.setting-panel').append(this.widgetElement);\r\n\t\tconst $settings = $('.settings');\r\n\r\n\t\t// handle settings button click\r\n\t\t$('#stn-general').click((e) => {\r\n\t\t\te.stopPropagation();\r\n\t\t\tif ($settings.hasClass('background-open') && $settings.hasClass('settings-open')) {\r\n\t\t\t\t$settings.removeClass('background-open');\r\n\t\t\t} else {\r\n\t\t\t\t$settings.removeClass('background-open');\r\n\t\t\t\t$settings.toggleClass('settings-open');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('#stn-help').click((e) => {\r\n\t\t\te.stopPropagation();\r\n\t\t\tTourManager.initTour(this.manager.widgets);\r\n\t\t});\r\n\r\n\t\t$('#stn-rate').click((e) => {\r\n\t\t\tvar go_to_url = `https://chrome.google.com/webstore/detail/${window._config.params.extensionid}/reviews`;\r\n\t\t\twindow.open(go_to_url, \"_blank\");\r\n\t\t});\r\n\r\n\r\n\t\t$('.setting-panel .close-btn').click((e) => {\r\n\t\t\te.stopPropagation();\r\n\t\t\t$settings.removeClass('settings-open')\r\n\t\t});\r\n\r\n\t\t$(document).click((e) => {\r\n\t\t\tif ($(e.target).closest('.settings').length === 0) {\r\n\t\t\t\t$settings.removeClass('settings-open')\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trenderSection(section, properties) {\r\n\t\tlet icon = '';\r\n\t\tif (properties[SettingsKeys.Icon]) {\r\n\t\t\ticon = `<img src='${properties[SettingsKeys.Icon].value}' />`;\r\n\t\t}\r\n\t\tlet div = $(`<div class=\"settings-section\"><h3>${icon}${section}</h3><div class=\"props\"></div></div>`);\r\n\t\tif (properties[SettingsKeys.Visible] && properties[SettingsKeys.Visible].settings.obj) {\r\n\t\t\tdiv.prepend(properties[SettingsKeys.Visible].settings.obj.render());\r\n\t\t}\r\n\r\n\t\tfor (let prop in properties) {\r\n\t\t\tif (prop === SettingsKeys.Visible || !properties[prop].settings.obj) continue;\r\n\t\t\tdiv.find('.props').append($('<div class=\"prop\"></div>').append(properties[prop].settings.obj.render()));\r\n\t\t}\r\n\r\n\t\t$(this.widgetElement).append(div);\r\n\t}\r\n\r\n\tstart() {\r\n\t}\r\n}\r\n","import SettingsKeys from '../modules/settings/settings-keys';\r\nimport Widget from '../widget';\r\nimport SettingsVisibleSwitch from '../modules/settings/settings-visible-switch';\r\nimport Stats from \"../stats\";\r\nimport Config from \"../config\";\r\nimport { isPrimitive } from 'util';\r\nimport Http from '../modules/http';\r\nimport { strict } from 'assert';\r\n\r\nexport default class SuggestedSitesWidget extends Widget {\r\n\tconstructor(manager) {\r\n\t\tsuper(\"Suggested Sites\", manager, 'div');\r\n\t\tthis.tourStepData = {\r\n\t\t\ttarget: 'suggested-sites',\r\n\t\t\tplacement: 'top',\r\n\t\t\ttitle: 'Suggested Sites',\r\n\t\t\tcontent: 'Check out these useful websites.',\r\n\t\t\txOffset: -152,\r\n\t\t\tarrowOffset: 236,\r\n\t\t\tonShow: () => $('#search').css('zIndex', 999999),\r\n\t\t\tonNext: () => $('#search').css('zIndex', '')\r\n\t\t}\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.initSetting(SettingsKeys.Icon, ((typeof baseResource === \"undefined\" || baseResource === \"[base-resource]\") ? \"\" : baseResource) + '/images/suggested-sites.png');\r\n\t\tthis.initSetting(SettingsKeys.Visible, true, new SettingsVisibleSwitch());\r\n\t}\r\n\r\n\tloadStaticLink() {\r\n\t\treturn [\r\n\t\t\t{ name: 'gmail', url: 'http://gmail.com', img: ((typeof baseResource === \"undefined\" || baseResource === \"[base-resource]\") ? \"\" : baseResource) + '/images/suggested-sites/gmail.png' },\r\n\t\t\t{ name: 'facebook', url: 'http://facebook.com', img: ((typeof baseResource === \"undefined\" || baseResource === \"[base-resource]\") ? \"\" : baseResource) + '/images/suggested-sites/facebook.png' },\r\n\t\t\t{ name: 'tripadvisor', url: 'http://tripadvisor.com', img: ((typeof baseResource === \"undefined\" || baseResource === \"[base-resource]\") ? \"\" : baseResource) + '/images/suggested-sites/tripadvisor.png' },\r\n\t\t\t{ name: 'netflix', url: 'https://www.netflix.com/', img: ((typeof baseResource === \"undefined\" || baseResource === \"[base-resource]\") ? \"\" : baseResource) + '/images/suggested-sites/netflix.png' },\r\n\t\t\t{ name: 'instagram', url: 'http://instagram.com', img: ((typeof baseResource === \"undefined\" || baseResource === \"[base-resource]\") ? \"\" : baseResource) + '/images/suggested-sites/instagram.png' },\r\n\t\t\t{ name: 'youtube', url: 'http://youtube.com', img: ((typeof baseResource === \"undefined\" || baseResource === \"[base-resource]\") ? \"\" : baseResource) + '/images/suggested-sites/youtube.png' },\r\n\t\t\t{ name: 'twitter', url: 'http://twitter.com', img: ((typeof baseResource === \"undefined\" || baseResource === \"[base-resource]\") ? \"\" : baseResource) + '/images/suggested-sites/twitter.png' },\r\n\t\t\t{ name: 'ebay', url: '//rover.ebay.com/rover/1/711-53200-19255-0/1?icep_id=114&ipn=icep&toolid=20004&campid=5338426358&mpre=www.ebay.com', img: ((typeof baseResource === \"undefined\" || baseResource === \"[base-resource]\") ? \"\" : baseResource) + '/images/suggested-sites/ebay.png' },\r\n\t\t\t{ name: 'reddit', url: 'https://www.reddit.com', img: ((typeof baseResource === \"undefined\" || baseResource === \"[base-resource]\") ? \"\" : baseResource) + '/images/suggested-sites/reddit.png' },\r\n\t\t\t//{ name: 'blogger', url: 'http://blogger.com', img: ((typeof baseResource === \"undefined\" || baseResource === \"[base-resource]\") ? \"\" : baseResource) + '/images/suggested-sites/blogger.png' },\r\n\t\t\t{ name: 'pinterest', url: 'http://pinterest.com', img: ((typeof baseResource === \"undefined\" || baseResource === \"[base-resource]\") ? \"\" : baseResource) + '/images/suggested-sites/pinterest.png' },\r\n\t\t];\r\n\t};\r\n\r\n\tgetLocationByIP() {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tHttp.getJson(`https://api.sendmepixel.com/geo/country`, (ipAddress) => {\r\n\t\t\t\tresolve(ipAddress);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tloadSiteLinkData() {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tHttp.getJson(`https://api.sendmepixel.com/suggest/tiles?c=9&sub=TBZ`, (tilesData) => {\r\n\t\t\t\tlet arr = [];\r\n\t\t\t\tarr.push(\r\n\t\t\t\t\t{ name: 'aliexpress', url: '//s.click.aliexpress.com/e/3Ny1bCyY', img: ((typeof baseResource === \"undefined\" || baseResource === \"[base-resource]\") ? \"\" : baseResource) + '/images/suggested-sites/aliexpress.png' }\r\n\t\t\t\t);\r\n\t\t\t\tconst pageSize = 10;\r\n\t\t\t\tconst isTilesDataExist = Object.entries(tilesData).length === 0;\r\n\t\t\t\tif (!isTilesDataExist) {\r\n\t\t\t\t\tif (tilesData.tiles.length > 0) {\r\n\t\t\t\t\t\t$.map(tilesData.tiles, function (elem, index) {\r\n\t\t\t\t\t\t\tarr.push({\r\n\t\t\t\t\t\t\t\t\"name\": elem.name, \"url\": elem.click_url, \"img\": elem.image_url\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (arr.length != pageSize) {\r\n\t\t\t\t\tconst leftlink = pageSize - arr.length;\r\n\t\t\t\t\t$.each(this.loadStaticLink().slice(0, leftlink), function (key, value) {\r\n\t\t\t\t\t\tarr.push({\r\n\t\t\t\t\t\t\t\"name\": value.name, \"url\": value.url, \"img\": value.img\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tresolve(arr);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tthis.widgetElement.id = \"suggested-sites\";\r\n\t\tthis.widgetElement.className = \"widget suggested-sites-widget\";\r\n\t\tthis.suggestedSites = [];\r\n\t\t//this.getLocationByIP().then(currentip => {\r\n\t\tthis.loadSiteLinkData().then(suggestedSites => {\r\n\t\t\tsuggestedSites.map(siteData => {\r\n\t\t\t\tconst el = document.createElement(\"DIV\");\r\n\t\t\t\tel.className = 'suggested-sites-item';\r\n\t\t\t\tel.innerHTML = `<img class='suggested-sites-item-icon' src='${siteData.img}' /><div class='suggested-sites-item-label'>${siteData.name}</div>`;\r\n\t\t\t\tel.addEventListener('click', () => {\r\n\t\t\t\t\tStats.event('tbz_suggestsite_click', siteData.name, siteData.url);\r\n\t\t\t\t\twindow.open(siteData.url, '_blank')\r\n\t\t\t\t});\r\n\t\t\t\tthis.widgetElement.append(el);\r\n\t\t\t});\r\n\t\t\t$('.s-search').append(this.widgetElement);\r\n\t\t});\r\n\t\t//});\r\n\t}\r\n}\r\n","import SettingsKeys from '../modules/settings/settings-keys';\r\nimport Widget from '../widget';\r\nimport SettingsVisibleSwitch from '../modules/settings/settings-visible-switch';\r\n\r\nexport default class TodoWidget extends Widget {\r\n    constructor(manager) {\r\n        super(\"Todo\", manager, 'div');\r\n\t\tthis.tourStepData = {\r\n\t\t\ttarget: 'todo',\r\n\t\t\tplacement: 'top',\r\n\t\t\ttitle: 'Todo List',\r\n\t\t\tcontent: 'Create your checklist and never miss any of your tasks.',\r\n\t\t\txOffset: -10,\r\n\t\t\tonShow: () =>  $('.left-bottom-widgets').css('zIndex', 999999),\r\n\t\t\tonNext: () =>  $('.left-bottom-widgets').css('zIndex', '')\r\n\t\t}\r\n    }\r\n\r\n    init() {\r\n        this.listData = \"todoList\";\r\n\t\tthis.initSetting(SettingsKeys.Icon, ((typeof baseResource === \"undefined\" || baseResource === \"[base-resource]\") ? \"\" : baseResource) + '/images/todo-btn.png');\r\n        this.initSetting(SettingsKeys.Visible, true, new SettingsVisibleSwitch());\r\n        this.initSetting(this.listData, []);\r\n    }\r\n\r\n    fillTasks() {\r\n        let tasks = $('#todo-list-items');\r\n        tasks.html(\"\");\r\n        const savedTasks = this.getSettings(this.listData);\r\n        if (savedTasks) {\r\n            $.each(savedTasks, (index,item) => {\r\n                const marked = !item.status ? \"todo-list-item-marked\" : \"\";\r\n                const icon = `<i class=\"material-icons\">close</i>`;\r\n                let task = $(`<li class='${marked}'>${item.value}${icon}</li>`);\r\n                task.click((e) => {\r\n                    let elem = $(e.target);\r\n                    elem.toggleClass(\"todo-list-item-marked\");\r\n                    item.status = !item.status;\r\n                    this.updateTask(item, index);\r\n                });\r\n\r\n                task.find('i').click((e) => {\r\n                    e.stopPropagation();\r\n                    this.deleteTask(task, index);\r\n                });\r\n\r\n                task.hover(\r\n                    () => task.find('i').show(),\r\n                    () => task.find('i').hide()\r\n                );\r\n\r\n                if (item.status) {\r\n                    tasks.prepend(task);\r\n                }\r\n                else {\r\n                    tasks.append(task);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    addTask(task) {\r\n        let savedTasks = this.getSettings(this.listData);\r\n        if (savedTasks === undefined) savedTasks = [];\r\n        savedTasks.push(task);\r\n        this.setSettings(this.listData, savedTasks);\r\n        this.fillTasks();\r\n    }\r\n\r\n    updateTask(task, index) {\r\n        let savedTasks = this.getSettings(this.listData);\r\n        if (savedTasks === undefined) return;\r\n        savedTasks[index] = task;\r\n        this.setSettings(this.listData, savedTasks);\r\n    }\r\n\r\n    deleteTask(task,index) {\r\n        let savedTasks = this.getSettings(this.listData);\r\n        if (savedTasks === undefined) return;\r\n        savedTasks.splice(index, 1);\r\n        this.setSettings(this.listData, savedTasks);\r\n        this.fillTasks();\r\n    }\r\n\r\n    render() {\r\n        const _this = this;\r\n        this.widgetElement.id = \"todo\";\r\n        const $leftBottomWidgets = $('.left-bottom-widgets');\r\n\r\n        const widgetHtml = `<div class='todo-list-container'>\r\n                                <h3>ToDo list</h3>\r\n                                <ul id='todo-list-items' class='widget-scroll'></ul>\r\n                                <div class=\"float-field\">\r\n                                    <input type=\"text\" id=\"todo-input\" autocomplete=\"off\"/>\r\n                                    <label for=\"todo-input\" class=\"todo-input-label\">New task ></label>\r\n                                    <a href='#' class=\"todo-add\">Add</a>\r\n                                </div>\r\n                            </div>`;\r\n\r\n        this.widgetElement.className = \"widget\";\r\n\r\n        $leftBottomWidgets.append(this.widgetElement);\r\n        $leftBottomWidgets.append($(widgetHtml));\r\n\r\n        let todoList = $('.todo-list-container');\r\n\r\n        function addNewTask() {\r\n            const $task = $(\"#todo-input\");\r\n            if ($task.val().length < 2) return false;\r\n\r\n            _this.addTask({ value: $task.val(), status: true });\r\n            $task.val(\"\");\r\n        }\r\n\r\n        $(\"#todo-input\").on('keypress', (e) => {\r\n            if (e.which == 13)  {\r\n                e.preventDefault();\r\n                addNewTask();\r\n            }            \r\n        });\r\n\r\n        $(\".todo-add\").on('click', addNewTask);\r\n\r\n        $(document).click((e) => {\r\n          if($(e.target).closest('.todo-list-container').length === 0) {\r\n            $('.todo-list-container').removeClass('todo-list-open')\r\n          }\r\n        });\r\n\r\n        $(\"#todo\").on('click', (e) => {\r\n            if (!$(e.target).hasClass(\"widget\")) return false;\r\n\r\n            e.stopPropagation();\r\n\r\n            if (todoList.hasClass('todo-list-open')) {\r\n                todoList.removeClass('todo-list-open');\r\n            } else {\r\n                todoList.toggleClass('todo-list-open');\r\n            }\r\n        });\r\n\r\n        console.log(\"TodoWidget::render()\");\r\n    }\r\n\r\n    start() {\r\n        this.fillTasks();\r\n        console.log(\"TodoWidget::start()\");\r\n    }\r\n}\r\n","import SettingsKeys from '../modules/settings/settings-keys';\r\nimport Widget from '../widget';\r\nimport Http from '../modules/http';\r\nimport SettingsVisibleSwitch from '../modules/settings/settings-visible-switch';\r\nimport SettingsRadios from '../modules/settings/settings-radios';\r\n\r\nexport default class WeatherWidget extends Widget {\r\n    constructor(manager) {\r\n        super(\"Weather\", manager, 'div');\r\n\t\tthis.tourStepData = {\r\n\t\t\ttarget: 'weather',\r\n\t\t\tplacement: 'top',\r\n\t\t\ttitle: 'Weather',\r\n\t\t\tcontent: 'Theres no such thing as a bad climate with this weather forecast for your location.',\r\n\t\t\txOffset: 20,\r\n\t\t\tonShow: () =>  $('.bottom-widgets').css('zIndex', 999999),\r\n\t\t\tonNext: () =>  $('.bottom-widgets').css('zIndex', '')\r\n\t\t}\r\n    }\r\n\r\n    init() {\r\n        this.weather_interval = null;\r\n        this.unitsKey = \"Unit\";\r\n\r\n\t\tthis.initSetting(SettingsKeys.Icon, ((typeof baseResource === \"undefined\" || baseResource === \"[base-resource]\") ? \"\" : baseResource) + '/images/weather.png');\r\n        this.initSetting(SettingsKeys.Visible, true, new SettingsVisibleSwitch());\r\n        this.initSetting(this.unitsKey, \"C\", new SettingsRadios({\r\n            'F': \"\",\r\n            'C': \"\"\r\n        }), () => this.loadWeather());\r\n\r\n        // get country for accurate weather units\r\n        if (this.getSettings(this.unitsKey) === \"undefined\") {\r\n            Http.getJson(\"//api.sendmepixel.com/geo/info\", (geoData) => {\r\n                const units = [\"US\", \"LR\", \"BU\", \"PW\", \"MH\", \"FM\", \"WS\"].indexOf(geoData.country) > -1 ? \"F\" : \"C\";\r\n                this.setSettings(this.unitsKey, units);\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        this.widgetElement.id = \"weather\";\r\n        this.widgetElement.className = \"widget\";\r\n        $('.bottom-widgets').append(this.widgetElement);\r\n\r\n        $(\"#weather\").on('click', (e) => {\r\n            e.stopPropagation();\r\n\r\n            if (this.getSettings(this.unitsKey) === \"F\") {\r\n                this.setSettings(this.unitsKey, \"C\");\r\n            } else {\r\n                this.setSettings(this.unitsKey, \"F\");\r\n            }\r\n        });\r\n\r\n    };\r\n\r\n    start() {\r\n        this.loadWeather();\r\n    }\r\n\r\n    convertKelvin(kelvinTemp, unitType) {\r\n    \tif(unitType === \"F\") {\r\n    \t\treturn kelvinTemp*(9/5)-459.67;\r\n\t\t} else {\r\n    \t\treturn kelvinTemp-273;\r\n\t\t}\r\n\t}\r\n\r\n    updateWeather(geoData) {\r\n        const $weather = $(\"#weather\");\r\n        fetch(`https://api.sendmepixel.com/weather/getcurrent/`)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(weatherData => {\r\n\t\t\t\t$weather.html(`\r\n\t\t\t\t\t<div class='widget-top'>\r\n                      <div class='widget-content widget-content-left'>\r\n                        <img alt='${weatherData.weather[0].main}' class='weather-icon icon-${weatherData.weather[0].main}' src='https://openweathermap.org/img/w/${weatherData.weather[0].icon}.png' />\r\n                      </div>\r\n                      <div class='widget-content widget-content-right'>\r\n                        <span class='temp'>${Math.round(this.convertKelvin(weatherData.main.temp, this.getSettings(this.unitsKey)))} <span class='small'>&deg;${this.getSettings(this.unitsKey)}</span><br/></span>\r\n                      </div>\r\n                    </div>\r\n                    <div class='widget-bottom'>\r\n                        ${weatherData.weather[0].main} at ${weatherData.name}, ${weatherData.sys.country}\r\n                    </div>\r\n\t\t\t\t`)\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tconsole.error('Error fetching weather data', err);\r\n\t\t\t\t$weather.html(`\r\n\t\t\t\t\t<div class='widget-top'>\r\n                      <div class='widget-content widget-content-left'>\r\n                        <!--<img alt='Error' class='weather-icon icon-error' />-->\r\n                      </div>\r\n                      <div class='widget-content widget-content-right'>\r\n                        <span class='temp'><br/></span>\r\n                      </div>\r\n                    </div>\r\n                    <div class='widget-bottom'>\r\n                        Error fetching weather data\r\n                    </div>\r\n\t\t\t\t`)\r\n\t\t\t});\r\n\r\n        // $.simpleWeather({\r\n        //     location: geoData,\r\n        //     woeid: '',\r\n        //     unit: this.getSettings(this.unitsKey) || \"C\",\r\n        //     success: function(weather) {\r\n        //         let html = `<div class='widget-top'>\r\n        //               <div class='widget-content widget-content-left'>\r\n        //                 <i class='icon-${weather.code}'></i>\r\n        //               </div>\r\n        //               <div class='widget-content widget-content-right'>\r\n        //                 <span class='temp'>${weather.temp} <span class='small'>&deg;${weather.units.temp}</span><br/></span>\r\n        //               </div>\r\n        //             </div>\r\n        //             <div class='widget-bottom'>\r\n        //                 ${weather.currently} at ${weather.city}, ${weather.country}\r\n        //             </div>`;\r\n\t\t//\r\n        //         $weather.html(html);\r\n        //     },\r\n        //     error: function(error) {\r\n        //         $weather.html(`<span>${error}</span>`);\r\n        //     }\r\n        // });\r\n    }\r\n\r\n    // getLocationByIP() {\r\n    //     Http.getJson(\"//api.sendmepixel.com/geo/info\", (geoData) => this.updateWeather(geoData.city || geoData.state + ', ' + geoData.country));\r\n    // }\r\n\r\n    loadWeather() {\r\n        clearInterval(this.weather_interval);\r\n\r\n        // if (navigator.geolocation && location.protocol === \"https:\") {\r\n        //     navigator.geolocation.getCurrentPosition((position) => {\r\n        //         //load weather using your lat/lng coordinates\r\n        //         this.updateWeather(position.coords.latitude + ',' + position.coords.longitude);\r\n        //     }, () => this.getLocationByIP());\r\n        // } else {\r\n        //     this.getLocationByIP();\r\n        // }\r\n\r\n\t\tthis.updateWeather();\r\n\r\n        this.weather_interval = setInterval(() => this.loadWeather(), 60000);\r\n    }\r\n}\r\n"],"sourceRoot":""}